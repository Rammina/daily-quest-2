{"version":3,"sources":["images/star.png","images/blue-girl.png","images/ellipsis.png","images/up-arrow.png","images/down-arrow.png","images/wrench.png","images/trash.png","config.js","history.js","apis/firebaseDbRest.js","helpers/index.js","actions/index.js","components/AuthenticatedRoute.js","components/UnauthenticatedRoute.js","components/AppContext.js","components/AppLoader/AppLoader.js","components/ErrorPage/ErrorPage.js","components/GoogleAuth/GoogleAuth.js","components/NavMenu/NavMenu.js","components/Header/Header.js","components/Home/Home.js","components/ListLoader/ListLoader.js","components/Modal/common/ModalCloseButton.js","components/Modal/Modal.js","components/Modal/common/ModalCancelButton.js","components/forms/projects/ProjectForm.js","components/forms/projects/EditProject.js","components/ProjectItem/ProjectItem.js","components/Settings/Settings.js","components/forms/commonModals/DeleteAll.js","components/forms/projects/CreateProject.js","components/Projects/Projects.js","components/forms/tasks/TaskForm.js","components/forms/tasks/TaskDetails.js","components/forms/tasks/EditTask.js","components/TaskItem/TaskItem.js","components/forms/tasks/CreateTask.js","components/Tasks/Tasks.js","components/FinishedTasks/FinishedTasks.js","components/DueToday/DueToday.js","actions/loaderActions.js","actions/types.js","actions/errorActions.js","components/LoadingSpinner/LoadingSpinner.js","components/ErrorNotifications/ErrorNotification.js","components/ErrorNotifications/ErrorNotifications.js","components/forms/login/LoginForm.js","components/LoginPage/LoginPage.js","components/forms/register/RegisterForm.js","components/forms/register/ConfirmationForm.js","components/Register/Register.js","components/App.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/loaderReducer.js","reducers/index.js","reducers/projectsReducer.js","reducers/selectedProjectReducer.js","reducers/finishedTasksReducer.js","reducers/dueTodayReducer.js","index.js","images/warning.png","images/rename.png"],"names":["module","exports","config","cognito","REGION","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","createHistory","axios","create","baseURL","process","getCurrentDate","console","log","format","Date","convertToMDY","date","replace","toStandardTime","time","validateEmail","email","test","String","toLowerCase","autoGrow","element","style","height","scrollHeight","renderError","meta","sectionName","error","touched","className","src","warningImg","alt","getErrorClass","compareValues","key","order","a","b","hasOwnProperty","dateTimeA","dateTimeB","orderValue","compareAsc","varA","toUpperCase","varB","comparison","comparePriorityValues","priority","compareKeysInProp","propName","Object","keys","length","ellipsifyString","string","substring","capitalizeFirstLetter","charAt","slice","replaceAt","array","index","value","ret","objectToArray","object","keyAsProp","objectKey","push","actionTypes","fetchProject","userId","id","dispatch","async","firebaseDbRest","get","response","projectWithArrayTasks","data","valuesWithId","_","omit","tasks","sortBy","name","sort","type","payload","createProject","formValues","post","deleteTask","projectId","taskId","delete","deleteFinishedTask","taskIndex","authSignIn","authMethod","authSignOut","connect","state","isSignedIn","auth","props","children","rest","useLocation","pathname","search","to","redirect","url","window","location","href","results","RegExp","exec","decodeURIComponent","querystring","ElementsContext","React","createContext","NavContext","AuthContext","AppLoader","setTimeout","document","readyState","addEventListener","context","fadeLoaderAfterCheck","this","loader","show","fadeClass","xmlns","version","points","fill","Component","contextType","ErrorPage","renderErrorMessage","errorHeader","errorParagraph","errorType","errorCodeMessage","Fragment","GirlImg","onClick","history","GoogleAuth","_isMounted","initialized","onAuthChange","authSignInChecked","userHasAuthenticated","showLoaderBeforeCheck","currentUser","getId","setAuthSignInChecked","onSignInClick","signIn","onSignOutClick","signOut","renderGoogleSignButton","text","cb","ref","setLastNavMenuItemRef","buttonClass","buttonId","onKeyDown","e","innerWidth","shiftKey","preventDefault","stopPropagation","navMenuCloseButtonRef","focus","renderAuthButton","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","setState","NavMenu","projectsLinkClass","includes","dueTodayLinkClass","finishedTasksLinkClass","handleLogout","Auth","renderLogoutButton","data-test","menuClass","sidebarClassFromClick","visibility","setNavMenuCloseButtonRef","onBackdropClick","focusHamburger","lastNavMenuItemRef","withRouter","Header","hamburgerClicked","hamburgerClass","hamburgerRef","createRef","current","updateNavMenuClasses","updateHamburgerClasses","showSidebar","hideSidebar","onHamburgerClick","handleResize","removeEventListener","Home","ListLoader","showLoader","loaderFadeClass","ModalCloseButton","useContext","useEffect","setModalCloseButtonRef","onClose","modalProjectsSubmitButtonRef","modalProjectsDeleteButtonRef","modalTasksSubmitButtonRef","modalTasksDeleteButtonRef","modalDetailsEditButtonRef","modalDetailsDeleteButtonRef","modalDeleteAllButtonRef","Modal","event","onDismiss","modalBackdrop","ReactDOM","createPortal","backdropClass","sectionId","tabIndex","role","aria-hidden","content","getElementById","ModalCancelButton","autoFocus","ProjectForm","autofocus","handleEnterKeyOnField","keyCode","target","handleSubmit","onSubmit","renderInput","input","inputProps","labelProps","errorClass","labelClass","class","labelId","htmlFor","Field","component","placeholder","maxLength","autoComplete","setModalProjectsSubmitButtonRef","modalCloseButtonRef","reduxForm","form","validate","errors","EditProject","editProject","initialValues","pick","project","user","patch","ProjectItem","modalsOpened","any","edit","editButtonRef","deleteButtonRef","focusEditButton","focusDeleteButton","closeSettings","renderDeleteContent","dismissModalHandler","setModalProjectsDeleteButtonRef","deleteProject","TrashImg","onModalOpen","modalType","renderModal","mapValues","modalContent","PencilImg","projects","Settings","closeMenu","closeModal","renderList","giveFirstItemRef","setFirstSettingsItem","settingItems","lastItemIndex","map","item","lastItemClass","method","focusEllipsisButton","itemImg","UpImg","DownImg","renderItemImg","renderItems","renderMenu","isModalOpen","ellipsisClass","setEllipsisRef","openModal","firstSettingsItem","EllipsisImg","DeleteAll","renderDataObjectName","dataObject","itemName","setModalDeleteAllButtonRef","deleteFunction","CreateProject","closeButton","Projects","ellipsisButtonRef","focusCreateButton","createButtonRef","handleSettingsClose","settings","settingsBackdropClass","settingsEllipsisClass","handleSettingsOpen","handleDeleteAll","deleteAllProjects","renderProjects","color","display","alignItems","justifyContent","textAlign","fontSize","deleteAll","fetchProjects","width","sortProjectsByName","sortProjectsByTasks","getState","dataItemsOnly","reverse","Array","isArray","sortedProjects","put","TaskForm","retrieveChecked","inputName","finished","undefined","disabled","checked","renderTextArea","rows","onInput","renderSelect","renderNameField","hideButtons","showIfDisabled","textAreaElement","min","required","You","blur","setModalTasksSubmitButtonRef","keepDirtyOnReinitialize","enableReinitialize","TaskDetails","renderActionButtons","hideActionButtons","hideActionDelete","hideActionEdit","setModalDetailsDeleteButtonRef","switchModal","position","left","setModalDetailsEditButtonRef","WrenchImg","focusTaskContent","task","EditTask","processEmptyOptionals","description","processedValues","reformattedValues","editTask","dueTodayIndex","editDueTodayTask","isToday","TaskItem","details","focusTaskContentOnClose","taskContentRef","setTaskContentRef","hideEditButton","hideDeleteButton","renderCheckbox","hideCheckbox","toggleCheckbox","toggleTaskCheck","toggleDueTodayTaskCheck","defaultChecked","renderInfoBubble","hideProjectName","projectName","hideDate","hideTime","setModalTasksDeleteButtonRef","finishedIndex","deleteDueTodayTask","switchModalHandler","selectedTask","backgroundColor","marginTop","borderRadius","selectedProject","checkValue","CreateTask","createTask","Tasks","hideLoader","delay","renderProjectName","renderTasks","match","params","deleteAllTasks","isEmpty","sortTasksByName","sortTasksByDate","sortTasksByPriority","sortedTasks","FinishedTasks","deleteAllFinishedTasks","finishedTasks","fetchFinishedTasks","sortFinishedTasksByName","sortFinishedTasksByDate","sortFinishedTasksByPriority","projectKey","taskKey","finishedSortBy","DueToday","dueToday","deleteAllDueTodayTasks","fetchDueToday","sortDueTodayTasksByName","sortDueTodayTasksByDate","sortDueTodayTasksByPriority","dueTodaySortBy","formShowLoader","formName","returnErrors","msg","status","clearErrors","LoadingSpinner","useState","containerClass","setContainerClass","message","data-dismiss","aria-label","ErrorNotifications","renderErrors","LoginForm","showLoginError","password","attributes","sub","renderErrorNotifications","errorMessage","renderLoginError","renderLoader","loginForm","showLoginFormLoader","LoginPage","StarImg","RegisterForm","showRegisterError","isLoading","createErrorMsg","errorMsg","signUp","username","newUser","userSub","setNewUser","setShowConfirm","registerForm","showRegisterFormLoader","password2","ConfirmationForm","confirmSignUp","confirmation_code","confirmationForm","showConfirmationFormLoader","Register","showConfirm","bool","App","isAuthenticated","isAuthenticating","rerenderBoolean","getElementsContextValue","getNavContextValue","getAuthContextValue","signInChecked","setSignInChecked","isChecked","authsignInChecked","onLoadAuthSetup","currentAuthenticatedUser","renderGlobalGoogleAuth","elementsContextValue","navContextValue","authContextValue","appLoaderProps","path","exact","Provider","INITIAL_STATE","initialState","combineReducers","action","concat","filter","Number","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","Amplify","configure","mandatorySignIn","region","userPoolId","identityPoolId","userPoolWebClientId","render"],"mappings":"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","file":"static/js/main.4802fefe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/star.4cea2f76.png\";","module.exports = __webpack_public_path__ + \"static/media/blue-girl.997c97c2.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjDA0EEAlfifR5AAAA7klEQVRo3u2XQQ6CMBBFXzTiXURPpdfRSDB6F1EvAV5AbyAsMXVhSMRok1aom/+6nDDz2wmLB77MSCioqChYM/Xu48WYLXfMy6nZEIUbf2oNb84xVITdx/EGQxpi/Ozt8duLiF3bDZwDLCzfDJn3/wLnr/c3GPL+A5TWADfXdu4rMD9UOwlwtVYv/QfIrNW9cz9nptSW33DSfwDYfA2QhBgPEYeP4zNGYQJARPq2iJok3PgnMStySkpylmF2L4QQbeQF8gJ5gbzAp9pJAHmBvEBe0CAvEEL8HXmBvEBeIC/wqXYSQF4gL5AXNHTkBQ/Ioa6WsgUmNQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0xM1QwNDoxNjowOSswMDowMPIe38sAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMTNUMDQ6MTY6MDkrMDA6MDCDQ2d3AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAg8XLyhdYpVgAAAA8klEQVRIx+2Uyw7BQBhGTxob15DYsPcaEiKpBe9ka+ldbNyiIXTjIfoGEqWxQC3UmNLRUUu+1T+d75xOm6bwLk0cHBokTJ09Pj4erW/whAoZT6B4xj9UROEfKFS4puIdrqFo4Unlk5iOeorw3TcMxNxnEq94xkv0xKpHOk7xihMSQJqpWlHFlTZtCvAigAwzqeVSATAAqJETMhuTXeQ78ugyF6sctYdgxULgbQV+U3SwgnnJWt7KM8JnFByeyEe4JcsQn/G9mQouu5hk8OK+M+BAR24aoQPqRmoa2pAif8Ff8AOCx39hm0xexubCGYuiunQFHJjKliZAN1IAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDItMTVUMjM6NDc6NDArMDA6MDAPPLg0AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAyLTE1VDIzOjQ3OjQwKzAwOjAwfmEAiAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAg8XLzRJY8kvAAABB0lEQVRIx+2UMW7CMBSGP1UMVEg0IHGRdkdEArUSE5fgBIyM3Tr2IMAEQogFxEJPUAa29gImMADpEr3YJHFNRsTz8mz//+f3ZNmQHTWWnDizwiNX9Amj0c0WPVgAT5KV8wGc4g64A24QUHJ2lZKAMjMUIx7/NXvMUUzNF1pgEb38qYb4kP+gJ2sV1tHagkIMaIg0ZEIxE1DhS1PW4xa+UQJ7ZSAIM6rMeJGZYhMDfmizk603hikIjwnPMtvT4dcU1FFaeWOKRgtx7yEhAc20Ei8Rn5K/u9gBmgSa8CDZ0bC3bLdsVpEcltNdEA52G8LRnoW4wp6GuNJ+ichh1xE57QA+W7b4Nskfj+G8P1KoXAMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDItMTVUMjM6NDc6NTIrMDA6MDBUCamDAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAyLTE1VDIzOjQ3OjUyKzAwOjAwJVQRPwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfjCBoEDTW3xC0EAAAB+ElEQVRIx5XVzUtUcRTG8Y+jaKmjk1otWkhgGRWJFm6KSCwpikhEUwxqUZtauSyIVtEqCPofgvoD2hRUvkRgBpEQQS/kRnAIMl+aScdpocmMc2/eOb/NPYf7fZ5zzr3wY/OIu+KJz1JSvrlvXwQmJy776Je0jKysCQPKosNV7klall07Ey6pjo7XuiW5Dme9NSgRHa902lQOPm5QXTGzN3qcgyddUx/0WthCKjTpzMunzQXQTbEQgRoteY7VDhV0UK3X1bAO4vbm5SWOe2Y6p5JwzpBEWAflBQtr06xyPatz1pBWO0pDBOqdcDCvUiWjVIWsPxLOGHIY6TCBuBbtG2oHHLPfNtXa3XAEK6bCdrDkZ0B1uy6nzEtrABnvggW22ONoiHSJuPjac9rT4AV2eJnzE4WdJZOqghw6DUfAs2YMFuIx572JhCfdDcJ7jFmKgE+5Wdh+TJ9RqQjej3SpXYXK8vDr2lQErPWFUTV2ivnhkw++mPF7o3u/VxYCHUd02KVRs2a7NSgPmv1iKD7mpK3+GzG9IfiycV1BjvnfvduIxQA85bULYjaJVsOBm180qmdznIeB+IJhfVFwvq9dGRvx/mg481YC8IGoOJM5N8/q7EW4wx2zOT2kjESd/V/Uem7WshUZKcO6i8NXJW57b85XD7QoKQ7+C2i+NEmPpuM0AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA4LTI2VDAyOjEzOjUzKzAyOjAww/r0UwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wOC0yNlQwMjoxMzo1MyswMjowMLKnTO8AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCwoCOC/7o0c1AAACGUlEQVRo3u2Zv0sjQRTHP4k5T2LgEHS1sDYWFhZX3NmJhY2dlf+A/4IoaClWF/EfsPP6szg4jitO/IGgYiNIwhU2KoiFYkw0yVyjJO6+dWeSHVdl37DFvH375rPv+2aKXTCxHlY4oYoSxh3HzNNhlM/QHP6JSzeODdrNkiYMYteZ4IJZDqkJdz8wygIdLDFr5/2HUdQYeTZmGsU1n+wALKL4ExCT4hTFlEnapHbkV+BvQEyFTeCLCUDqyWycYd/IIWCAmYB8XcBYQNQBv+qTxiZMUuSjCX2TViKNepy0NdxQ3HDFEd1kLC19zk+OWGXn+bD1wN3e7PjhXUxqwhtrxRcySwBFawBC5ldZgcgB3rEEmgD2KtBSD6wxR8Xj/UbO46swx3fdCkg2KR4iDrDt8l0CcOnybgOOmGNSrwIy5/3D5fbJ3nsxR7wNI9+GsQRvRYISVSvLVynpAShurQCI0ib1Q18SwE4XiFlfKUAsQeQAsQSRA7xTCSI/it9SD8QSxBLEEsQSRC5BSfwj0JrVKOsDKAsiFOvfh4MBbHSBj6xJs/AoARwSOC5fhjSdnm/rPSTo9TzvU9OU7BYAfnNG1uVLswekXd5BdunTrYAfgJe3n34hblB8+rPWKwEv2YQ+Gf0ArkIHuDYDKIQOkDcD2AodYNMsvI2DUP8W7Rv8oXywLGehLX/KQDNF62WZAuWWli6TJ+c5wBrsPxHNe4M7B5mxAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTEwVDAyOjU2OjQ3KzAwOjAwvMk0aAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0xMFQwMjo1Njo0NyswMDowMM2UjNQAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","const config = {\r\n  cognito: {\r\n    REGION: \"us-east-1\",\r\n    USER_POOL_ID: \"us-east-1_nxoXflfo4\",\r\n    APP_CLIENT_ID: \"6hhqiemv9qcqn0gupbt6v17rot\",\r\n    IDENTITY_POOL_ID: \"us-east-1:1d144251-2768-4ff7-82c0-aca209fb08c2\",\r\n  },\r\n};\r\n\r\nexport default config;\r\n","import createHistory from \"history/createBrowserHistory\";\r\n\r\nexport default createHistory();","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: process.env.REACT_APP_FIREBASE_URL,\r\n});\r\n","import warningImg from \"../images/warning.png\";\r\n\r\nimport _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { format } from \"date-fns\";\r\nimport compareAsc from \"date-fns/compareAsc\";\r\n\r\n// Helper functions\r\n\r\n// date-time functions\r\nexport const getCurrentDate = () => {\r\n  console.log(format(new Date(), \"yyyy-MM-dd\"));\r\n  return format(new Date(), \"yyyy-MM-dd\");\r\n};\r\n\r\nexport const getCurrentTime = () => {\r\n  return format(new Date(), \"hh:mma\");\r\n};\r\n\r\nexport const convertToMDY = (date) => {\r\n  console.log(date);\r\n  return date ? format(new Date(date.replace(/-/g, \"/\")), \"MM/dd/yyyy\") : null;\r\n};\r\n\r\nexport const toMilitaryTime = (datetime) => {\r\n  return format(datetime, \"HH:mm\");\r\n};\r\n\r\nexport const toStandardTime = (time) => {\r\n  console.log(time);\r\n  if (!time) {\r\n    // Use this if you want to bypass the error\r\n    // return null;\r\n  }\r\n  return format(new Date(`${getCurrentDate()}T${time}`), \"hh:mma\");\r\n};\r\n\r\nexport const standardToMilitary = function standardToMilitary(time) {\r\n  var PM = time.match(\"PM\") ? true : false;\r\n  var hour;\r\n  var minute;\r\n\r\n  time = time.split(\":\");\r\n\r\n  if (PM) {\r\n    hour = 12 + parseInt(time[0], 10);\r\n    minute = time[1].replace(\"PM\", \"\");\r\n  } else {\r\n    hour = time[0];\r\n    minute = time[1].replace(\"AM\", \"\");\r\n  }\r\n\r\n  return `${hour}:${minute}`;\r\n};\r\n// regular expression testing\r\nexport const validateEmail = (email) => {\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n};\r\n\r\n// styling functions\r\nexport const autoGrow = function (element) {\r\n  element.style.height = \"5px\";\r\n  element.style.height = element.scrollHeight + 3.7813 + \"px\";\r\n};\r\n\r\nexport const autoGrowValue = function (element) {\r\n  if (!element) {\r\n    return \"0px\";\r\n  }\r\n  return element.offsetHeight + 3.7813 + \"px\";\r\n};\r\n\r\n// error display functions\r\nexport const renderError = (meta, sectionName) => {\r\n  const { error, touched } = meta;\r\n  // Creates an error message if there is an error in the input field is touched\r\n  if (error && touched) {\r\n    return (\r\n      <div className={`${sectionName} error error-container`}>\r\n        <img className=\"error-image\" src={warningImg} alt=\"warning sign\"></img>\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const getErrorClass = ({ error, touched }) => {\r\n  return error && touched ? \"error\" : null;\r\n};\r\n\r\n// This is used for helping sort object based on property names' values\r\n// key refers to The name of the property, order can either be asc or desc\r\nexport const compareValues = (key, order = \"asc\") => {\r\n  console.log(\"comparing values\");\r\n  // if date values are being compared\r\n  if (key === \"date\") {\r\n    return function innerDateSort(a, b) {\r\n      if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\r\n        // property doesn't exist on either object\r\n        console.log(`${key} doesn't exist`);\r\n        return 0;\r\n      }\r\n      const dateTimeA = new Date(`${a.date}T${a.time}`);\r\n      const dateTimeB = new Date(`${b.date}T${b.time}`);\r\n      const orderValue = order === \"desc\" ? -1 : 1;\r\n      return compareAsc(dateTimeA, dateTimeB) * orderValue;\r\n    };\r\n  }\r\n  // typical lexical comparison, or numerical comparison\r\n  return function innerSort(a, b) {\r\n    if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n      console.log(`${key} doesn't exist`);\r\n      return 0;\r\n    }\r\n\r\n    const varA = typeof a[key] === \"string\" ? a[key].toUpperCase() : a[key];\r\n    const varB = typeof b[key] === \"string\" ? b[key].toUpperCase() : b[key];\r\n\r\n    let comparison = 0;\r\n    if (varA > varB) {\r\n      comparison = 1;\r\n    } else if (varA < varB) {\r\n      comparison = -1;\r\n    }\r\n    return order === \"desc\" ? comparison * -1 : comparison;\r\n  };\r\n};\r\n\r\nexport const comparePriorityValues = (order = \"asc\") => {\r\n  console.log(\"comparing values\");\r\n  // Compare by priority strings\r\n  return function innerSort(a, b) {\r\n    if (!a.hasOwnProperty(\"priority\") || !b.hasOwnProperty(\"priority\")) {\r\n      // property doesn't exist on either object\r\n      console.log(`priority key doesn't exist`);\r\n      return 0;\r\n    }\r\n    let comparison = 0;\r\n    if (\r\n      a.priority === \"high\" &&\r\n      (b.priority === \"medium\" || b.priority === \"low\")\r\n    ) {\r\n      comparison = 1;\r\n    } else if (a.priority === \"high\" && b.priority === \"high\") {\r\n      comparison = 0;\r\n    } else if (a.priority === \"medium\" && b.priority === \"low\") {\r\n      comparison = 1;\r\n    } else if (a.priority === \"medium\" && b.priority === \"medium\") {\r\n      comparison = 0;\r\n    } else if (a.priority === \"medium\" && b.priority === \"high\") {\r\n      comparison = -1;\r\n    } else if (\r\n      a.priority === \"low\" &&\r\n      (b.priority === \"medium\" || b.priority === \"high\")\r\n    ) {\r\n      comparison = -1;\r\n    } else if (a.priority === \"low\" && b.priority === \"low\") {\r\n      comparison = 0;\r\n    }\r\n    return order === \"desc\" ? comparison * -1 : comparison;\r\n  };\r\n};\r\n\r\n// Use this to compare objects based on key count of their property\r\n//  a & b - objects to be compared\r\n//  propName - string name of property to be used as basis for comparison\r\nexport const compareKeysInProp = (a, b, propName) => {\r\n  // If both items don't have the property name, they are equal\r\n  if (!a[propName] && !b[propName]) {\r\n    return 0;\r\n  } // if a has the property and b does not, a is greater\r\n  else if (a[propName] && !b[propName]) {\r\n    return 1;\r\n  } // if a does not have the property and b does, b is greater\r\n  else if (!a[propName] && b[propName]) {\r\n    return -1;\r\n  } // if both of them have the property, compare their keys' lengths\r\n  else if (a[propName] && b[propName]) {\r\n    return Object.keys(a[propName]).length > Object.keys(b[propName]).length\r\n      ? 1\r\n      : -1;\r\n  }\r\n};\r\n\r\n//String functions\r\nexport const ellipsifyString = (string, length = 10) => {\r\n  if (!string) {\r\n    return null;\r\n  }\r\n  if (string.length > length) {\r\n    return `${string.substring(0, length)}...\r\n    `;\r\n  }\r\n  return string;\r\n};\r\n\r\nexport const capitalizeFirstLetter = (string) => {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n};\r\n\r\n// array functions\r\nexport const replaceAt = (array, index, value) => {\r\n  const ret = array.slice(0);\r\n  ret[index] = value;\r\n  return ret;\r\n};\r\n// usage: const newArray = replaceAt(items, index, \"J\");\r\n\r\nexport const objectToArray = (\r\n  object,\r\n  keyAsProp /*string(optional)\r\n            ---name of a property in which the original object key will be stored */\r\n) => {\r\n  let array = [];\r\n  for (let objectKey in object) {\r\n    if (object.hasOwnProperty(objectKey)) {\r\n      if (keyAsProp) {\r\n        object[objectKey][keyAsProp] = objectKey;\r\n      }\r\n      array.push(object[objectKey]);\r\n    }\r\n  }\r\n  return array;\r\n};\r\n","import _ from \"lodash\";\r\nimport firebaseDbRest from \"../apis/firebaseDbRest\";\r\nimport {\r\n  compareValues,\r\n  comparePriorityValues,\r\n  compareKeysInProp,\r\n  objectToArray,\r\n} from \"../helpers\";\r\nimport isToday from \"date-fns/isToday\";\r\n\r\n// List of action types to be used\r\nexport const actionTypes = {\r\n  // Project actions\r\n  FETCH_PROJECTS: \"FETCH_PROJECTS\",\r\n  FETCH_PROJECT: \"FETCH_PROJECT\",\r\n  CREATE_PROJECT: \"CREATE_PROJECT\",\r\n  EDIT_PROJECT: \"EDIT_PROJECT\",\r\n  DELETE_PROJECT: \"DELETE_PROJECT\",\r\n  DELETE_ALL_PROJECTS: \"DELETE_ALL_PROJECTS\",\r\n  //   sorting functions for projects\r\n  SORT_PROJECTS_BY_NAME: \"SORT_PROJECTS_BY_NAME\",\r\n  SORT_PROJECTS_BY_TASKS: \"SORT_PROJECTS_BY_TASKS\",\r\n\r\n  // TASK ACTIONS\r\n  CREATE_TASK: \"CREATE_TASK\",\r\n  EDIT_TASK: \"EDIT_TASK\",\r\n  TOGGLE_TASK_CHECK: \"TOGGLE_TASK_CHECK\",\r\n  DELETE_TASK: \"DELETE_TASK\",\r\n  DELETE_ALL_TASKS: \"DELETE_ALL_TASKS\",\r\n  //    sorting functions for Tasks\r\n  SORT_TASKS_BY_NAME: \"SORT_TASKS_BY_NAME\",\r\n  SORT_TASKS_BY_DATE: \"SORT_TASKS_BY_DATE\",\r\n  SORT_TASKS_BY_PRIORITY: \"SORT_TASKS_BY_PRIORITY\",\r\n  // Finished task actions\r\n  FETCH_FINISHED_TASKS: \"FETCH_FINISHED_TASKS\",\r\n  DELETE_FINISHED_TASK: \"DELETE_FINISHED_TASK\",\r\n  DELETE_ALL_FINISHED_TASKS: \"DELETE_ALL_FINISHED_TASKS\",\r\n  // sort functions for finished tasks\r\n  SORT_FINISHED_TASKS_BY_NAME: \"SORT_FINISHED_TASKS_BY_NAME\",\r\n  SORT_FINISHED_TASKS_BY_DATE: \"SORT_FINISHED_TASKS_BY_DATE\",\r\n  SORT_FINISHED_TASKS_BY_PRIORITY: \"SORT_FINISHED_TASKS_BY_PRIORITY\",\r\n\r\n  // due today actions\r\n  FETCH_DUE_TODAY: \"FETCH_DUE_TODAY\",\r\n  DELETE_DUE_TODAY_TASK: \"DELETE_DUE_TODAY_TASK\",\r\n  EDIT_DUE_TODAY_TASK: \"EDIT_DUE_TODAY_TASK\",\r\n  TOGGLE_DUE_TODAY_TASK_CHECK: \"TOGGLE_DUE_TODAY_TASK_CHECK\",\r\n  DELETE_ALL_DUE_TODAY_TASKS: \"DELETE_ALL_DUE_TODAY_TASKS\",\r\n  // sort action creators for due today\r\n  SORT_DUE_TODAY_TASKS_BY_NAME: \"SORT_DUE_TODAY_TASKS_BY_NAME\",\r\n  SORT_DUE_TODAY_TASKS_BY_DATE: \"SORT_DUE_TODAY_TASKS_BY_DATE\",\r\n  SORT_DUE_TODAY_TASKS_BY_PRIORITY: \"SORT_DUE_TODAY_TASKS_BY_PRIORITY\",\r\n\r\n  //GoogleAuth\r\n  AUTH_SIGN_IN: \"AUTH_SIGN_IN\",\r\n  AUTH_SIGN_OUT: \"AUTH_SIGN_OUT\",\r\n};\r\n\r\n// project action creators\r\nexport const fetchProjects = (userId) => {\r\n  return async function (dispatch, getState) {\r\n    const response = await firebaseDbRest.get(\r\n      `/${userId || \"guest\"}/projects.json`\r\n    );\r\n    console.log(userId);\r\n    console.log(response);\r\n    console.log(response.data);\r\n    let data = null;\r\n    if (response.data) {\r\n      // remove the sort-related properties\r\n      const dataItemsOnly = _.omit({ ...response.data }, [\r\n        \"sortBy\",\r\n        \"finishedSortBy\",\r\n        \"dueTodaySortBy\",\r\n      ]);\r\n\r\n      // Assign the response values to variables and do some processing\r\n      data = objectToArray(dataItemsOnly, \"id\");\r\n      const sortBy = response.data.sortBy ? response.data.sortBy : false;\r\n\r\n      // sort by property and check whether it is ascending or descending\r\n      if (sortBy.name) {\r\n        if (sortBy.name === \"ascending\") {\r\n          data = data.sort(compareValues(\"name\"));\r\n        } else if (sortBy.name === \"descending\") {\r\n          data = data.sort(compareValues(\"name\", \"desc\"));\r\n        }\r\n      } else if (sortBy.tasks) {\r\n        if (sortBy.tasks === \"ascending\") {\r\n          data = data.sort((a, b) => compareKeysInProp(a, b, \"tasks\"));\r\n        } else if (sortBy.tasks === \"descending\") {\r\n          data = data\r\n            .sort((a, b) => compareKeysInProp(a, b, \"tasks\"))\r\n            .reverse();\r\n        }\r\n      }\r\n\r\n      dispatch({\r\n        type: actionTypes.FETCH_PROJECTS,\r\n        payload: response.data ? data : response.data,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchProject = (userId, id) => {\r\n  return async function (dispatch) {\r\n    const response = await firebaseDbRest.get(\r\n      `/${userId || \"guest\"}/projects/${id}.json`\r\n    );\r\n\r\n    let projectWithArrayTasks = null; /*just declaring to avoid undefined*/\r\n    if (response.data) {\r\n      const valuesWithId = { ...response.data, id };\r\n\r\n      let data = objectToArray(\r\n        // remove the sort-related properties\r\n        _.omit({ ...valuesWithId.tasks }, [\"sortBy\"]),\r\n        \"id\"\r\n      );\r\n\r\n      const sortBy = response.data.sortBy ? response.data.sortBy : false;\r\n\r\n      // sortby property and check whether it is ascending or descending\r\n      if (sortBy.name) {\r\n        if (sortBy.name === \"ascending\") {\r\n          data = data.sort(compareValues(\"name\"));\r\n        } else if (sortBy.name === \"descending\") {\r\n          data = data.sort(compareValues(\"name\", \"desc\"));\r\n        }\r\n      } else if (sortBy.date) {\r\n        if (sortBy.date === \"ascending\") {\r\n          data = data.sort(compareValues(\"date\"));\r\n        } else if (sortBy.date === \"descending\") {\r\n          data = data.sort(compareValues(\"date\", \"desc\"));\r\n        }\r\n      } else if (sortBy.priority) {\r\n        if (sortBy.priority === \"ascending\") {\r\n          data = data.sort(comparePriorityValues());\r\n        } else if (sortBy.priority === \"descending\") {\r\n          data = data.sort(comparePriorityValues(\"desc\"));\r\n        }\r\n      }\r\n      projectWithArrayTasks = {\r\n        ...valuesWithId,\r\n        tasks: data,\r\n      };\r\n    }\r\n    dispatch({\r\n      type: actionTypes.FETCH_PROJECT,\r\n      payload: projectWithArrayTasks || null,\r\n    });\r\n  };\r\n};\r\n\r\nexport const createProject = (userId, formValues) => {\r\n  console.log(formValues);\r\n  return async function (dispatch) {\r\n    const response = await firebaseDbRest.post(\r\n      `/${userId || \"guest\"}/projects.json`,\r\n      formValues\r\n    );\r\n\r\n    console.log(response.data);\r\n    const valuesWithId = [{ ...formValues, id: response.data.name }];\r\n    dispatch({\r\n      type: actionTypes.CREATE_PROJECT,\r\n      payload: valuesWithId,\r\n    });\r\n  };\r\n};\r\n\r\nexport const editProject = (userId, id, formValues) => {\r\n  return async function (dispatch) {\r\n    const response = await firebaseDbRest.patch(\r\n      `/${userId || \"guest\"}/projects/${id}.json`,\r\n      formValues\r\n    );\r\n    dispatch({\r\n      type: actionTypes.EDIT_PROJECT,\r\n      payload: { ...response.data, id },\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteProject = (userId, id) => {\r\n  return async function (dispatch) {\r\n    console.log(`deleting ${id}`);\r\n    await firebaseDbRest.delete(`/${userId || \"guest\"}/projects/${id}.json`);\r\n\r\n    dispatch({\r\n      type: actionTypes.DELETE_PROJECT,\r\n      payload: id,\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteAllProjects = (userId) => {\r\n  return async function (dispatch) {\r\n    await firebaseDbRest.delete(`/${userId || \"guest\"}/projects.json`);\r\n    dispatch({\r\n      type: actionTypes.DELETE_ALL_PROJECTS,\r\n    });\r\n  };\r\n};\r\n\r\n// SORT PROJECT FUNCTIONS\r\nexport const sortProjectsByName = (userId, projects, order = \"ascending\") => {\r\n  // projects - array/object containing Projects\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(projects) && typeof projects === \"object\") {\r\n      projects = objectToArray(projects);\r\n    }\r\n    // Perform sorting by name\r\n    let sortedProjects = projects.sort(compareValues(\"name\"));\r\n\r\n    if (order === \"descending\") {\r\n      // reverse the order\r\n      sortedProjects.reverse();\r\n    }\r\n    // save the sort setting in the database\r\n    await firebaseDbRest.put(`/${userId || \"guest\"}/projects/sortBy.json`, {\r\n      name: order,\r\n    });\r\n\r\n    dispatch({\r\n      type: actionTypes.SORT_PROJECTS_BY_NAME,\r\n      payload: sortedProjects,\r\n    });\r\n  };\r\n};\r\n\r\nexport const sortProjectsByTasks = (userId, projects, order = \"ascending\") => {\r\n  // projects - array/object containing Projects\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(projects) && typeof projects === \"object\") {\r\n      projects = objectToArray(projects);\r\n    }\r\n    // Perform sorting by task count\r\n    let sortedProjects = projects.sort((a, b) =>\r\n      compareKeysInProp(a, b, \"tasks\")\r\n    );\r\n\r\n    if (order === \"descending\") {\r\n      // reverse the order\r\n      sortedProjects.reverse();\r\n    }\r\n    // save the sort setting in the database\r\n    await firebaseDbRest.put(`/${userId || \"guest\"}/projects/sortBy.json`, {\r\n      tasks: order,\r\n    });\r\n\r\n    dispatch({\r\n      type: actionTypes.SORT_PROJECTS_BY_TASKS,\r\n      payload: sortedProjects,\r\n    });\r\n  };\r\n};\r\n\r\n// task action creators\r\nexport const createTask = (userId, id, formValues) => {\r\n  return async function (dispatch) {\r\n    const response = await firebaseDbRest.post(\r\n      `/${userId || \"guest\"}/projects/${id}/tasks.json`,\r\n      formValues\r\n    );\r\n\r\n    const valuesWithId = [{ ...formValues, id: response.data.name }];\r\n    console.log(valuesWithId);\r\n    dispatch({\r\n      type: actionTypes.CREATE_TASK,\r\n      payload: valuesWithId,\r\n    });\r\n  };\r\n};\r\n\r\nexport const editTask = (userId, projectId, taskId, formValues) => {\r\n  return async function (dispatch) {\r\n    const response = await firebaseDbRest.patch(\r\n      `/${userId || \"guest\"}/projects/${projectId}/tasks/${taskId}.json`,\r\n      formValues\r\n    );\r\n    console.log(response.data);\r\n    dispatch({\r\n      type: actionTypes.EDIT_TASK,\r\n      payload: { ...response.data, id: taskId },\r\n    });\r\n  };\r\n};\r\n\r\nexport const toggleTaskCheck = (userId, projectId, taskId, checkValue) => {\r\n  return async function (dispatch) {\r\n    const response = await firebaseDbRest.patch(\r\n      `/${userId || \"guest\"}/projects/${projectId}/tasks/${taskId}.json`,\r\n      { finished: checkValue }\r\n    );\r\n    console.log(checkValue);\r\n    console.log(response.data);\r\n    dispatch({\r\n      type: actionTypes.TOGGLE_TASK_CHECK,\r\n      payload: { ...response.data, id: taskId },\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteTask = (userId, projectId, taskId) => {\r\n  return async function (dispatch) {\r\n    console.log(`deleting ${taskId}`);\r\n    await firebaseDbRest.delete(\r\n      `/${userId || \"guest\"}/projects/${projectId}/tasks/${taskId}.json`\r\n    );\r\n    dispatch({\r\n      type: actionTypes.DELETE_TASK,\r\n      payload: taskId,\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteAllTasks = (userId, projectId) => {\r\n  return async function (dispatch) {\r\n    await firebaseDbRest.delete(\r\n      `/${userId || \"guest\"}/projects/${projectId}/tasks.json`\r\n    );\r\n    dispatch({\r\n      type: actionTypes.DELETE_ALL_TASKS,\r\n    });\r\n  };\r\n};\r\n\r\n// Sort task action creators here\r\nexport const sortTasksByName = (\r\n  userId,\r\n  tasks,\r\n  projectId,\r\n  order = \"ascending\"\r\n) => {\r\n  // tasks - array/object containing tasks\r\n  // projectId - string that indicates the id of the project\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(tasks) && typeof tasks === \"object\") {\r\n      tasks = objectToArray(tasks);\r\n    }\r\n    // Perform sorting by name\r\n    console.log(tasks);\r\n    let sortedTasks = [...tasks.sort(compareValues(\"name\"))];\r\n\r\n    if (order === \"descending\") {\r\n      // reverse the order\r\n      sortedTasks.reverse();\r\n    }\r\n    // save the sort setting in the database\r\n    await firebaseDbRest.put(\r\n      `/${userId || \"guest\"}/projects/${projectId}/sortBy.json`,\r\n      {\r\n        name: order,\r\n      }\r\n    );\r\n\r\n    console.log(sortedTasks);\r\n    dispatch({\r\n      type: actionTypes.SORT_TASKS_BY_NAME,\r\n      payload: sortedTasks,\r\n    });\r\n  };\r\n};\r\n\r\nexport const sortTasksByDate = (\r\n  userId,\r\n  tasks,\r\n  projectId,\r\n  order = \"ascending\"\r\n) => {\r\n  // tasks - array/object containing tasks\r\n  // projectId - string that indicates the id of the project\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(tasks) && typeof tasks === \"object\") {\r\n      tasks = objectToArray(tasks);\r\n    }\r\n    // Perform sorting by date\r\n    console.log(tasks);\r\n    let sortedTasks = [...tasks.sort(compareValues(\"date\"))];\r\n\r\n    if (order === \"descending\") {\r\n      // reverse the order\r\n      sortedTasks.reverse();\r\n    }\r\n    // save the sort setting in the database\r\n    await firebaseDbRest.put(\r\n      `/${userId || \"guest\"}/projects/${projectId}/sortBy.json`,\r\n      {\r\n        name: order,\r\n      }\r\n    );\r\n\r\n    console.log(sortedTasks);\r\n    dispatch({\r\n      type: actionTypes.SORT_TASKS_BY_DATE,\r\n      payload: sortedTasks,\r\n    });\r\n  };\r\n};\r\n\r\nexport const sortTasksByPriority = (\r\n  userId,\r\n  tasks,\r\n  projectId,\r\n  order = \"ascending\"\r\n) => {\r\n  // tasks - array/object containing tasks\r\n  // projectId - string that indicates the id of the project\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(tasks) && typeof tasks === \"object\") {\r\n      tasks = objectToArray(tasks);\r\n    }\r\n    // Perform sorting by priority\r\n    console.log(tasks);\r\n    let sortedTasks = [];\r\n\r\n    if (order === \"descending\") {\r\n      // sort by priority descending\r\n      sortedTasks = [...tasks.sort(comparePriorityValues(\"desc\"))];\r\n    } else if (order === \"ascending\") {\r\n      // sort by priority ascending\r\n      sortedTasks = [...tasks.sort(comparePriorityValues())];\r\n    }\r\n    // save the sort setting in the database\r\n    await firebaseDbRest.put(\r\n      `/${userId || \"guest\"}/projects/${projectId}/sortBy.json`,\r\n      {\r\n        priority: order,\r\n      }\r\n    );\r\n\r\n    console.log(sortedTasks);\r\n    dispatch({\r\n      type: actionTypes.SORT_TASKS_BY_PRIORITY,\r\n      payload: sortedTasks,\r\n    });\r\n  };\r\n};\r\n// finished tasks action creators\r\nexport const fetchFinishedTasks = (userId) => {\r\n  return async function (dispatch) {\r\n    // Retrieve all projects first from the database\r\n    const response = await firebaseDbRest.get(\r\n      `/${userId || \"guest\"}/projects.json`\r\n    );\r\n    console.log(response.data);\r\n    let finishedTasks = [];\r\n    // only process if there is data in the first place\r\n    if (response.data) {\r\n      // get rid of the sortBy property so it is not included in the data\r\n      const projects = _.omit({ ...response.data }, [\r\n        \"finishedSortBy\",\r\n        \"sortBy\",\r\n        \"dueTodaySortBy\",\r\n      ]);\r\n\r\n      console.log(projects);\r\n      // Process each project and retrieve each task\r\n      // First check that the project contains a task to avoid undefined errors\r\n      for (let projectKey in projects) {\r\n        if (projects.hasOwnProperty(projectKey)) {\r\n          if (projects[projectKey].tasks) {\r\n            console.log(projects[projectKey].tasks);\r\n            const tasks = projects[projectKey].tasks;\r\n            // Check each task and retrieve only those that have finished as true\r\n            for (let taskKey in tasks) {\r\n              if (tasks.hasOwnProperty(taskKey) && tasks[taskKey].finished) {\r\n                console.log(tasks[taskKey].finished);\r\n                tasks[taskKey].id = taskKey;\r\n                tasks[taskKey].projectId = projectKey;\r\n                tasks[taskKey].projectName = projects[projectKey].name;\r\n                finishedTasks = [...finishedTasks, tasks[taskKey]];\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // Guards against undefined errors\r\n      const sortBy = response.data.finishedSortBy\r\n        ? response.data.finishedSortBy\r\n        : false;\r\n\r\n      // finishedSortBy property and check whether it is ascending or descending\r\n      if (sortBy.name) {\r\n        if (sortBy.name === \"ascending\") {\r\n          finishedTasks = finishedTasks.sort(compareValues(\"name\"));\r\n        } else if (sortBy.name === \"descending\") {\r\n          finishedTasks = finishedTasks.sort(compareValues(\"name\", \"desc\"));\r\n        }\r\n      } else if (sortBy.date) {\r\n        if (sortBy.date === \"ascending\") {\r\n          finishedTasks = finishedTasks.sort(compareValues(\"date\"));\r\n        } else if (sortBy.date === \"descending\") {\r\n          finishedTasks = finishedTasks.sort(compareValues(\"date\", \"desc\"));\r\n        }\r\n      } else if (sortBy.priority) {\r\n        if (sortBy.priority === \"ascending\") {\r\n          finishedTasks = finishedTasks.sort(comparePriorityValues());\r\n        } else if (sortBy.priority === \"descending\") {\r\n          finishedTasks = finishedTasks.sort(comparePriorityValues(\"desc\"));\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log(finishedTasks);\r\n    dispatch({\r\n      type: actionTypes.FETCH_FINISHED_TASKS,\r\n      payload: finishedTasks,\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteFinishedTask = (taskIndex) => {\r\n  console.log(taskIndex);\r\n  return async function (dispatch) {\r\n    dispatch({\r\n      type: actionTypes.DELETE_FINISHED_TASK,\r\n      payload: taskIndex,\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteAllFinishedTasks = () => {\r\n  return async function (dispatch) {\r\n    dispatch({\r\n      type: actionTypes.DELETE_ALL_FINISHED_TASKS,\r\n    });\r\n  };\r\n};\r\n\r\n// SORT FINISHED TASKS FUNCTIONS\r\nexport const sortFinishedTasksByName = (userId, tasks, order = \"ascending\") => {\r\n  // tasks - array/object containing finished tasks\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(tasks) && typeof tasks === \"object\") {\r\n      tasks = objectToArray(tasks);\r\n    }\r\n    // Perform sorting by name\r\n    let sortedTasks = tasks.sort(compareValues(\"name\"));\r\n\r\n    if (order === \"descending\") {\r\n      // reverse the order\r\n      sortedTasks.reverse();\r\n    }\r\n    // save the sort setting in the database\r\n    await firebaseDbRest.put(\r\n      `/${userId || \"guest\"}/projects/finishedSortBy.json`,\r\n      {\r\n        name: order,\r\n      }\r\n    );\r\n\r\n    dispatch({\r\n      type: actionTypes.SORT_FINISHED_TASKS_BY_NAME,\r\n      payload: sortedTasks,\r\n    });\r\n  };\r\n};\r\n\r\nexport const sortFinishedTasksByDate = (userId, tasks, order = \"ascending\") => {\r\n  // tasks - array/object containing tasks\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(tasks) && typeof tasks === \"object\") {\r\n      tasks = objectToArray(tasks);\r\n    }\r\n    // save the order's setting in the database\r\n    await firebaseDbRest.put(\r\n      `/${userId || \"guest\"}/projects/finishedSortBy.json`,\r\n      {\r\n        date: order,\r\n      }\r\n    );\r\n    // Perform sorting by date\r\n    let sortedTasks = null;\r\n    if (order === \"descending\") {\r\n      // sort in descending order\r\n      sortedTasks = tasks.sort(compareValues(\"date\", \"desc\"));\r\n    } else {\r\n      // sort in ascending order\r\n      sortedTasks = tasks.sort(compareValues(\"date\"));\r\n    }\r\n    dispatch({\r\n      type: actionTypes.SORT_FINISHED_TASKS_BY_DATE,\r\n      payload: sortedTasks,\r\n    });\r\n  };\r\n};\r\n\r\nexport const sortFinishedTasksByPriority = (\r\n  userId,\r\n  tasks,\r\n  order = \"ascending\"\r\n) => {\r\n  // tasks - array/object containing tasks\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(tasks) && typeof tasks === \"object\") {\r\n      tasks = objectToArray(tasks);\r\n    }\r\n    // save the order's setting in the database\r\n    await firebaseDbRest.put(\r\n      `/${userId || \"guest\"}/projects/finishedSortBy.json`,\r\n      {\r\n        priority: order,\r\n      }\r\n    );\r\n    // Perform sorting by date\r\n    let sortedTasks = null;\r\n    if (order === \"descending\") {\r\n      // sort in descending order\r\n      sortedTasks = tasks.sort(comparePriorityValues(\"desc\"));\r\n    } else {\r\n      // sort in ascending order\r\n      sortedTasks = tasks.sort(comparePriorityValues());\r\n    }\r\n    dispatch({\r\n      type: actionTypes.SORT_FINISHED_TASKS_BY_PRIORITY,\r\n      payload: sortedTasks,\r\n    });\r\n  };\r\n};\r\n\r\n// DUETODAY TASKS ACTION CREATORS\r\nexport const fetchDueToday = (userId) => {\r\n  return async function (dispatch) {\r\n    // Retrieve all projects first from the database\r\n    const response = await firebaseDbRest.get(\r\n      `/${userId || \"guest\"}/projects.json`\r\n    );\r\n    let dueToday = [];\r\n    // only sort if there is data in the first place\r\n    if (response.data) {\r\n      // remove sort related properties\r\n      const projects = _.omit({ ...response.data }, [\r\n        \"finishedSortBy\",\r\n        \"sortBy\",\r\n        \"dueTodaySortBy\",\r\n      ]);\r\n\r\n      console.log(response);\r\n      console.log(response.data);\r\n      console.log(projects);\r\n      // Process each project and retrieve each task\r\n      // First check that the project contains a task to avoid undefined errors\r\n      for (let projectKey in projects) {\r\n        if (projects.hasOwnProperty(projectKey)) {\r\n          if (projects[projectKey].tasks) {\r\n            console.log(projects[projectKey].tasks);\r\n            const tasks = projects[projectKey].tasks;\r\n            // Check each task and retrieve only those that have\r\n            // today as their deadline\r\n            for (let taskKey in tasks) {\r\n              if (tasks.hasOwnProperty(taskKey) && tasks[taskKey].date) {\r\n                if (\r\n                  tasks.hasOwnProperty(taskKey) &&\r\n                  isToday(new Date(tasks[taskKey].date.replace(/-/g, \"/\")))\r\n                ) {\r\n                  console.log(tasks[taskKey].date);\r\n                  tasks[taskKey].id = taskKey;\r\n                  tasks[taskKey].projectId = projectKey;\r\n                  tasks[taskKey].projectName = projects[projectKey].name;\r\n                  dueToday = [...dueToday, tasks[taskKey]];\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // Guards against undefined errors\r\n      const sortBy = response.data.dueTodaySortBy\r\n        ? response.data.dueTodaySortBy\r\n        : false;\r\n\r\n      // dueTodaySortBy property and check whether it is ascending or descending\r\n      if (sortBy.name) {\r\n        if (sortBy.name === \"ascending\") {\r\n          dueToday = dueToday.sort(compareValues(\"name\"));\r\n        } else if (sortBy.name === \"descending\") {\r\n          dueToday = dueToday.sort(compareValues(\"name\", \"desc\"));\r\n        }\r\n      } else if (sortBy.date) {\r\n        if (sortBy.date === \"ascending\") {\r\n          dueToday = dueToday.sort(compareValues(\"date\"));\r\n        } else if (sortBy.date === \"descending\") {\r\n          dueToday = dueToday.sort(compareValues(\"date\", \"desc\"));\r\n        }\r\n      } else if (sortBy.priority) {\r\n        if (sortBy.priority === \"ascending\") {\r\n          dueToday = dueToday.sort(comparePriorityValues());\r\n        } else if (sortBy.priority === \"descending\") {\r\n          dueToday = dueToday.sort(comparePriorityValues(\"desc\"));\r\n        }\r\n      }\r\n    }\r\n\r\n    dispatch({\r\n      type: actionTypes.FETCH_DUE_TODAY,\r\n      payload: dueToday,\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteDueTodayTask = (taskIndex) => {\r\n  return async function (dispatch) {\r\n    dispatch({\r\n      type: actionTypes.DELETE_DUE_TODAY_TASK,\r\n      payload: taskIndex,\r\n    });\r\n  };\r\n};\r\n\r\nexport const editDueTodayTask = (taskIndex, formValues) => {\r\n  return async function (dispatch) {\r\n    if (!isToday(formValues.date)) {\r\n      dispatch({\r\n        type: actionTypes.DELETE_DUE_TODAY_TASK,\r\n        payload: taskIndex,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: actionTypes.EDIT_DUE_TODAY_TASK,\r\n        payload: { ...{ ...formValues }, taskIndex },\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const toggleDueTodayTaskCheck = (taskIndex, checkValue) => {\r\n  return async function (dispatch) {\r\n    dispatch({\r\n      type: actionTypes.TOGGLE_DUE_TODAY_TASK_CHECK,\r\n      payload: { checkValue, taskIndex },\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteAllDueTodayTasks = () => {\r\n  return async function (dispatch) {\r\n    dispatch({\r\n      type: actionTypes.DELETE_ALL_DUE_TODAY_TASKS,\r\n    });\r\n  };\r\n};\r\n\r\n// SORT DUETODAY TASKS FUNCTIONS\r\nexport const sortDueTodayTasksByName = (userId, tasks, order = \"ascending\") => {\r\n  // tasks - array/object containing finished tasks\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(tasks) && typeof tasks === \"object\") {\r\n      tasks = objectToArray(tasks);\r\n    }\r\n    // Perform sorting by name\r\n    let sortedTasks = tasks.sort(compareValues(\"name\"));\r\n\r\n    if (order === \"descending\") {\r\n      // reverse the order and then save the sort setting in the database\r\n      sortedTasks.reverse();\r\n    }\r\n    // save the sort setting in the database\r\n    await firebaseDbRest.put(\r\n      `/${userId || \"guest\"}/projects/dueTodaySortBy.json`,\r\n      {\r\n        name: order,\r\n      }\r\n    );\r\n\r\n    dispatch({\r\n      type: actionTypes.SORT_DUE_TODAY_TASKS_BY_NAME,\r\n      payload: sortedTasks,\r\n    });\r\n  };\r\n};\r\n\r\nexport const sortDueTodayTasksByDate = (userId, tasks, order = \"ascending\") => {\r\n  // tasks - array/object containing tasks\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(tasks) && typeof tasks === \"object\") {\r\n      tasks = objectToArray(tasks);\r\n    }\r\n    // save the order's setting in the database\r\n    await firebaseDbRest.put(\r\n      `/${userId || \"guest\"}/projects/dueTodaySortBy.json`,\r\n      {\r\n        date: order,\r\n      }\r\n    );\r\n    // Perform sorting by date\r\n    let sortedTasks = null;\r\n    if (order === \"descending\") {\r\n      // sort in descending order\r\n      sortedTasks = tasks.sort(compareValues(\"date\", \"desc\"));\r\n    } else {\r\n      // sort in ascending order\r\n      sortedTasks = tasks.sort(compareValues(\"date\"));\r\n    }\r\n    dispatch({\r\n      type: actionTypes.SORT_DUE_TODAY_TASKS_BY_DATE,\r\n      payload: sortedTasks,\r\n    });\r\n  };\r\n};\r\n\r\nexport const sortDueTodayTasksByPriority = (\r\n  userId,\r\n  tasks,\r\n  order = \"ascending\"\r\n) => {\r\n  // tasks - array/object containing tasks\r\n  // order - string - which can have the value of either \"ascending\" or \"descending\"\r\n\r\n  return async function (dispatch) {\r\n    // this guards against objects being sent as an argument\r\n    if (!Array.isArray(tasks) && typeof tasks === \"object\") {\r\n      tasks = objectToArray(tasks);\r\n    }\r\n    // save the order's setting in the database\r\n    await firebaseDbRest.put(\r\n      `/${userId || \"guest\"}/projects/dueTodaySortBy.json`,\r\n      {\r\n        priority: order,\r\n      }\r\n    );\r\n    // Perform sorting by date\r\n    let sortedTasks = null;\r\n    if (order === \"descending\") {\r\n      // sort in descending order\r\n      sortedTasks = tasks.sort(comparePriorityValues(\"desc\"));\r\n    } else {\r\n      // sort in ascending order\r\n      sortedTasks = tasks.sort(comparePriorityValues());\r\n    }\r\n    dispatch({\r\n      type: actionTypes.SORT_DUE_TODAY_TASKS_BY_PRIORITY,\r\n      payload: sortedTasks,\r\n    });\r\n  };\r\n};\r\n\r\n//Auth functions\r\nexport const authSignIn = ({ authMethod, userId }) => {\r\n  return async function (dispatch) {\r\n    dispatch({\r\n      type: actionTypes.AUTH_SIGN_IN,\r\n      payload: { authMethod, userId },\r\n    });\r\n  };\r\n};\r\n\r\nexport const authSignOut = () => {\r\n  return async function (dispatch) {\r\n    dispatch({\r\n      type: actionTypes.AUTH_SIGN_OUT,\r\n    });\r\n  };\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect, useLocation } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction AuthenticatedRoute(props) {\r\n  const { children, ...rest } = props;\r\n  const { pathname, search } = useLocation();\r\n  return (\r\n    <Route {...rest}>\r\n      {props.isSignedIn ? (\r\n        children\r\n      ) : (\r\n        <Redirect to={`/login-page?redirect=${pathname}${search}`} />\r\n      )}\r\n    </Route>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(AuthenticatedRoute);\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction querystring(name, url = window.location.href) {\r\n  name = name.replace(/[[]]/g, \"\\\\$&\");\r\n\r\n  const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\r\n  const results = regex.exec(url);\r\n\r\n  if (!results) {\r\n    return null;\r\n  }\r\n  if (!results[2]) {\r\n    return \"\";\r\n  }\r\n\r\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n}\r\n\r\nfunction UnauthenticatedRoute(props) {\r\n  const { children, ...rest } = props;\r\n\r\n  const redirect = querystring(\"redirect\");\r\n  return (\r\n    <Route {...rest}>\r\n      {!props.isSignedIn ? (\r\n        children\r\n      ) : (\r\n        <Redirect to={redirect === \"\" || redirect === null ? \"/\" : redirect} />\r\n      )}\r\n    </Route>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(UnauthenticatedRoute);\r\n","import React from \"react\";\r\n\r\nexport const ElementsContext = React.createContext(null);\r\nexport const NavContext = React.createContext(null);\r\nexport const AuthContext = React.createContext(null);\r\n","import \"./AppLoader.css\";\r\n\r\nimport React from \"react\";\r\nimport { AuthContext } from \"../AppContext\";\r\n\r\nclass AppLoader extends React.Component {\r\n  state = {};\r\n\r\n  static contextType = AuthContext;\r\n\r\n  componentDidMount() {\r\n    setTimeout(() => {\r\n      // Screen loader\r\n      if (document.readyState === \"loading\") {\r\n        // Loading hasn't finished yet\r\n        document.addEventListener(\"DOMContentLoaded\", () => {\r\n          console.log(\"called by twenty\");\r\n          this.context.fadeLoaderAfterCheck();\r\n        });\r\n      } //Loading has already finished\r\n      else if (\r\n        document.readyState === \"complete\" ||\r\n        document.readyState === \"interactive\" ||\r\n        document.readyState === \"loaded\"\r\n      ) {\r\n        console.log(\" HTML loaded\");\r\n        this.context.fadeLoaderAfterCheck();\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.loader.show) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div\r\n        className={`loader-container ${this.props.loader.fadeClass || null}`}\r\n      >\r\n        <div className=\"loader loader-2\">\r\n          <svg\r\n            className=\"loader-star\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            version=\"1.1\"\r\n          >\r\n            <polygon\r\n              points=\"29.8 0.3 22.8 21.8 0 21.8 18.5 35.2 11.5 56.7 29.8 43.4 48.2 56.7 41.2 35.1 59.6 21.8 36.8 21.8 \"\r\n              fill=\"#18ffff\"\r\n            />\r\n          </svg>\r\n          <div className=\"loader-circles\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default AppLoader;\r\n","import GirlImg from \"../../images/blue-girl.png\";\r\n\r\nimport \"./ErrorPage.css\";\r\n\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport history from \"../../history\";\r\n\r\nclass ErrorPage extends React.Component {\r\n  state = {};\r\n  componentDidMount() {}\r\n  renderErrorMessage = () => {\r\n    let errorHeader = \"Error\";\r\n    let errorParagraph = \"Sorry, something went wrong.\";\r\n    let errorType = this.props.errorType || null;\r\n    let errorCodeMessage = errorType ? (\r\n      <p className=\"error-page-code move-up-until-450w\">\r\n        Error code: {errorType}\r\n      </p>\r\n    ) : null;\r\n\r\n    if (this.props.errorType === \"404\") {\r\n      errorHeader = \"Page not found\";\r\n      errorParagraph =\r\n        \"Sorry, we can't seem to find the page you're looking for.\";\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"error-page-title-container\">\r\n          <h1 className=\"error-page-header\">{errorHeader} </h1>\r\n          <span className=\"error-page-image-container\">\r\n            <img\r\n              className=\"error-page-image\"\r\n              src={GirlImg}\r\n              alt=\"blue haired girl error\"\r\n            />\r\n          </span>\r\n        </div>\r\n\r\n        <p className=\"error-page-paragraph move-up-until-450w\">\r\n          {errorParagraph}\r\n        </p>\r\n        {errorCodeMessage}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"error-page-container\">\r\n        <div className=\"error-page-message-container\">\r\n          {this.renderErrorMessage()}\r\n          <p className=\"error-page-paragraph move-up-until-450w\">\r\n            Try going back to the previous page or click one of the links below:\r\n          </p>\r\n          <div className=\"error-page two-buttons-container move-up-until-450w\">\r\n            <Link\r\n              to=\"/home\"\r\n              className=\"error-page transparent-bg-button\"\r\n              onClick={() => {\r\n                // force redirect if user is not logged in yet\r\n                if (!this.props.isSignedIn) {\r\n                  setTimeout(() => {\r\n                    history.push(\"/login-page\");\r\n                  }, 1);\r\n                }\r\n              }}\r\n            >\r\n              Home\r\n            </Link>\r\n            <Link to=\"/login-page\" className=\"error-page transparent-bg-button\">\r\n              Login\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isSignedIn: state.auth.isSignedIn };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(ErrorPage);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { authSignIn, authSignOut } from \"../../actions\";\r\nimport { AuthContext } from \"../AppContext\";\r\nimport history from \"../../history\";\r\n\r\nclass GoogleAuth extends React.Component {\r\n  _isMounted = false;\r\n  state = {\r\n    initialized: false,\r\n  };\r\n  static contextType = AuthContext;\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    console.log(`ismounted is now ${this._isMounted}`);\r\n\r\n    window.gapi.load(\"client:auth2\", () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId: process.env.REACT_APP_GOOGLE_AUTH_CLIENT_ID,\r\n          scope: \"email\",\r\n        })\r\n        .then(() => {\r\n          // gives a ref to the auth instance\r\n          this.auth = window.gapi.auth2.getAuthInstance();\r\n          // update redux state, check if user is signed in or not\r\n          this.onAuthChange(this.auth.isSignedIn.get());\r\n          // listen for any changes in sign in status, update state\r\n          this.auth.isSignedIn.listen(this.onAuthChange);\r\n          // change the state so that it knows that it finished initializing\r\n\r\n          console.log(`ismounted is now ${this._isMounted}`);\r\n          if (this._isMounted) {\r\n            this.setState({ initialized: true });\r\n          }\r\n        });\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n    console.log(`ismounted is now ${this._isMounted}`);\r\n  }\r\n\r\n  onAuthChange = async (isSignedIn) => {\r\n    // set the sign-in check to false\r\n    if (this.context.authSignInChecked) {\r\n      this.context.userHasAuthenticated(false);\r\n    }\r\n    this.context.showLoaderBeforeCheck();\r\n    // sign in or sign out\r\n    if (isSignedIn) {\r\n      await this.props.authSignIn({\r\n        authMethod: \"googleAuth\",\r\n        userId: this.auth.currentUser.get().getId(),\r\n      });\r\n      this.context.userHasAuthenticated(true);\r\n    } else {\r\n    }\r\n    // make the loader fade after changing sign in status\r\n    this.context.setAuthSignInChecked(true);\r\n    this.context.fadeLoaderAfterCheck();\r\n  };\r\n\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n    this.context.userHasAuthenticated(true);\r\n  };\r\n\r\n  onSignOutClick = async () => {\r\n    await this.auth.signOut();\r\n    await this.props.authSignOut();\r\n    history.push(\"/login-page\");\r\n    this.context.userHasAuthenticated(false);\r\n  };\r\n\r\n  renderGoogleSignButton = (text, cb) => {\r\n    return (\r\n      <button\r\n        ref={this.props.setLastNavMenuItemRef || null}\r\n        className={`ui primary google button ${this.props.buttonClass || null}`}\r\n        id={this.props.buttonId || \"\"}\r\n        onClick={() => {\r\n          if (cb) {\r\n            cb();\r\n          }\r\n        }}\r\n        onKeyDown={(e) => {\r\n          // only trigger this if non-\\ desktop view, and if this is a nav item\r\n          if (window.innerWidth < 900 && this.props.setLastNavMenuItemRef) {\r\n            if (e.key === \"Tab\" && !e.shiftKey) {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              // put the element to focus here\r\n              if (this.props.navMenuCloseButtonRef) {\r\n                this.props.navMenuCloseButtonRef.focus();\r\n              }\r\n            }\r\n          }\r\n        }}\r\n      >\r\n        <i className=\"google icon\" />\r\n        {text}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  renderAuthButton = () => {\r\n    if (!this.state.initialized) {\r\n      console.log(\"rendering null until auth state is initialized\");\r\n      return null;\r\n    }\r\n    if (this.props.isSignedIn) {\r\n      return (\r\n        <button\r\n          id=\"nav-menu-logout-button\"\r\n          onClick={this.onSignOutClick}\r\n          className={`left item nav-item`}\r\n        >\r\n          Logout\r\n        </button>\r\n      );\r\n    } else {\r\n      return this.renderGoogleSignButton(\"Sign In w/ Google\", () => {\r\n        this.onSignInClick();\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return this.renderAuthButton();\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    authMethod: state.auth.authMethod,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { authSignIn, authSignOut })(\r\n  GoogleAuth\r\n);\r\n\r\n/*\r\n// this is for automatic logout based on auth change (instead of on onClick)\r\nif (!this.props.authMethod === null) {\r\n  console.log(\"this should sign out\");\r\n  await this.props.authSignOut();\r\n}\r\n\r\n*/\r\n","import \"./NavMenu.css\";\r\n\r\nimport React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavContext } from \"../AppContext\";\r\nimport { authSignOut } from \"../../actions\";\r\nimport { Auth } from \"aws-amplify\";\r\nimport history from \"../../history\";\r\n\r\nimport GoogleAuth from \"../GoogleAuth/GoogleAuth\";\r\n\r\nclass NavMenu extends React.Component {\r\n  static contextType = NavContext;\r\n\r\n  componentDidMount() {}\r\n\r\n  projectsLinkClass = () => {\r\n    const { pathname } = this.props.location;\r\n\r\n    if (pathname.includes(\"projects\")) {\r\n      return \"selected\";\r\n    }\r\n    return null;\r\n  };\r\n\r\n  dueTodayLinkClass = () => {\r\n    const { pathname } = this.props.location;\r\n    if (pathname.includes(\"due-today\")) {\r\n      return \"selected\";\r\n    }\r\n    return null;\r\n  };\r\n\r\n  finishedTasksLinkClass = () => {\r\n    const { pathname } = this.props.location;\r\n    if (pathname.includes(\"finished-tasks\")) {\r\n      return \"selected\";\r\n    }\r\n    return null;\r\n  };\r\n\r\n  handleLogout = async () => {\r\n    await Auth.signOut();\r\n    await this.props.authSignOut();\r\n    history.push(\"/login-page\");\r\n  };\r\n\r\n  renderLogoutButton = () => {\r\n    if (this.props.auth.authMethod === \"googleAuth\") {\r\n      return (\r\n        <GoogleAuth\r\n          buttonClass=\"nav-menu\"\r\n          setLastNavMenuItemRef={this.context.setLastNavMenuItemRef}\r\n          navMenuCloseButtonRef={this.context.navMenuCloseButtonRef}\r\n        />\r\n      );\r\n    } else if (this.props.auth.authMethod === \"cognito\") {\r\n      return (\r\n        <button\r\n          id=\"nav-menu-logout-button\"\r\n          onClick={this.handleLogout}\r\n          className={`left item nav-item`}\r\n        >\r\n          Logout\r\n        </button>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  render() {\r\n    return !this.props.auth.isSignedIn ? null : (\r\n      <React.Fragment>\r\n        <div\r\n          data-test=\"component-nav-menu\"\r\n          className={`nav-menu ${this.props.menuClass} ${this.props.sidebarClassFromClick}`}\r\n        >\r\n          <p style={{ visibility: \"hidden\" }}></p>\r\n          <button\r\n            ref={this.context.setNavMenuCloseButtonRef}\r\n            className={\"nav-close\"}\r\n            onClick={() => {\r\n              this.props.onBackdropClick();\r\n              this.props.focusHamburger();\r\n            }}\r\n            onKeyDown={(e) => {\r\n              if (window.innerWidth < 900) {\r\n                if (e.key === \"Tab\" && e.shiftKey) {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  // put the element to focus here\r\n                  if (this.context.lastNavMenuItemRef) {\r\n                    this.context.lastNavMenuItemRef.focus();\r\n                  }\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            x\r\n          </button>\r\n          <Link\r\n            data-test=\"projects\"\r\n            to=\"/projects\"\r\n            className={`left item no-border nav-item ${this.projectsLinkClass()}`}\r\n          >\r\n            Projects\r\n          </Link>\r\n          <Link\r\n            data-test=\"due-today-link\"\r\n            to=\"/due-today\"\r\n            className={`left item nav-item ${this.dueTodayLinkClass()}`}\r\n          >\r\n            Due Today\r\n          </Link>\r\n          <Link\r\n            data-test=\"finished-tasks-link\"\r\n            to=\"/finished-tasks\"\r\n            className={`left item nav-item ${this.finishedTasksLinkClass()}`}\r\n          >\r\n            Finished Tasks\r\n          </Link>\r\n          {this.renderLogoutButton()}\r\n        </div>\r\n        <div\r\n          data-test=\"nav-menu-backdrop\"\r\n          id=\"nav-menu-backdrop\"\r\n          className={`${this.props.sidebarClassFromClick}`}\r\n          onClick={this.props.onBackdropClick}\r\n        ></div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { authSignOut })(withRouter(NavMenu));\r\n","import \"./Header.css\";\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport NavMenu from \"../NavMenu/NavMenu\";\r\n\r\nimport { NavContext } from \"../AppContext\";\r\n\r\nclass Header extends React.Component {\r\n  state = {\r\n    menuClass:\r\n      window.innerWidth >= 900\r\n        ? \"right menu\"\r\n        : \"ui inverted right vertical sidebar menu\",\r\n    hamburgerClicked: false,\r\n    sidebarClassFromClick: \"invisible\",\r\n    hamburgerClass: \"show\",\r\n  };\r\n  static contextType = NavContext;\r\n  // refs\r\n  hamburgerRef = React.createRef();\r\n\r\n  // focus functions\r\n  focusHamburger = () => {\r\n    if (this.hamburgerRef.current) {\r\n      this.hamburgerRef.current.focus();\r\n    }\r\n  };\r\n\r\n  updateNavMenuClasses = () => {\r\n    console.log(window.innerWidth);\r\n    console.log(this.state.menuClass);\r\n    if (this.state.menuClass) {\r\n      console.log(\"updating menu class based on width\");\r\n      const menuClass =\r\n        window.innerWidth >= 900\r\n          ? \"right menu\"\r\n          : \"ui inverted right vertical sidebar menu\";\r\n      if (menuClass !== this.state.menuClass) {\r\n        this.setState({ menuClass });\r\n      }\r\n    }\r\n  };\r\n\r\n  updateHamburgerClasses = () => {\r\n    console.log(this.state.hamburgerClass);\r\n    if (this.state.hamburgerClass) {\r\n      console.log(\"updating menu class based on height\");\r\n      const hamburgerClass = window.innerWidth >= 900 ? \"hide\" : \"show\";\r\n      if (hamburgerClass !== this.state.hamburgerClass) {\r\n        this.setState({ hamburgerClass });\r\n      }\r\n    }\r\n  };\r\n\r\n  showSidebar = () => {\r\n    setTimeout(() => {\r\n      this.setState({\r\n        hamburgerClicked: true,\r\n        sidebarClassFromClick: \"visible\",\r\n      });\r\n    }, 200);\r\n  };\r\n\r\n  hideSidebar = () => {\r\n    setTimeout(() => {\r\n      this.setState({\r\n        hamburgerClicked: false,\r\n        sidebarClassFromClick: \"invisible\",\r\n      });\r\n    }, 200);\r\n  };\r\n\r\n  onHamburgerClick = () => {\r\n    if (this.state.hamburgerClicked) {\r\n      this.hideSidebar();\r\n    } else {\r\n      this.showSidebar();\r\n    }\r\n  };\r\n\r\n  onBackdropClick = () => {\r\n    this.hideSidebar();\r\n  };\r\n\r\n  handleResize = () => {\r\n    this.updateNavMenuClasses();\r\n    this.updateHamburgerClasses();\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n    this.handleResize();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.handleResize);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        data-test=\"component-header\"\r\n        className=\"ui secondary pointing menu header\"\r\n      >\r\n        <Link data-test=\"home-link\" to=\"/home\" className=\"item\" id=\"nav-title\">\r\n          Daily Quest\r\n        </Link>\r\n        <button\r\n          ref={this.hamburgerRef}\r\n          data-test=\"nav-hamburger\"\r\n          className={`ui icon button item right ${this.state.hamburgerClass}`}\r\n          id=\"nav-hamburger\"\r\n          onClick={() => {\r\n            this.onHamburgerClick();\r\n            setTimeout(() => {\r\n              this.context.navMenuCloseButtonRef.focus();\r\n            }, 230);\r\n          }}\r\n        >\r\n          <i className=\"bars icon\" />\r\n        </button>\r\n        <NavMenu\r\n          menuClass={this.state.menuClass}\r\n          sidebarClassFromClick={this.state.sidebarClassFromClick}\r\n          onBackdropClick={this.onBackdropClick}\r\n          hamburgerRef={this.hamburgerRef}\r\n          focusHamburger={this.focusHamburger}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import \"./Home.css\";\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Home extends React.Component {\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    return (\r\n      <div data-test=\"component-home\" className=\"home-container\">\r\n        <div className=\"home-welcome-container\">\r\n          <div id=\"home-girl-container\" />\r\n          <div className=\"home-welcome ui segment\">\r\n            <p id=\"home-paragraph\">\r\n              Check your{\" \"}\r\n              <Link\r\n                data-test=\"home-projects-link\"\r\n                to=\"/projects\"\r\n                id=\"home-projects-button\"\r\n                className=\"home-paragraph-button\"\r\n              >\r\n                {\" \"}\r\n                Projects\r\n              </Link>{\" \"}\r\n              for tasks you <br className=\"home-lb-1400-1700\" />\r\n              have to finish. <br className=\"home-lb-600-900\" />{\" \"}\r\n              <br className=\"home-lb-min-1700\" /> The{\" \"}\r\n              <Link\r\n                data-test=\"home-due-today-link\"\r\n                to=\"/due-today\"\r\n                id=\"home-due-today-button\"\r\n                className=\"home-paragraph-button\"\r\n              >\r\n                Due Today\r\n              </Link>{\" \"}\r\n              section <br className=\"home-lb-1400-1700\" />\r\n              contains urgent tasks. <br className=\"home-lb-max-1200\" />{\" \"}\r\n              <br className=\"home-lb-min-1700\" />\r\n              Do your best!\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import \"./ListLoader.css\";\r\n\r\nimport React from \"react\";\r\n\r\nclass ListLoader extends React.Component {\r\n  render() {\r\n    if (!this.props.showLoader) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div\r\n        className={`list-loader-container ${\r\n          this.state.loaderFadeClass || null\r\n        }`}\r\n      >\r\n        <div className=\"list-loader-message-container\">\r\n          <div className=\"list-loader-text\">\r\n            <p className=\"list-loader-p\">Loading...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ListLoader;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { ElementsContext } from \"../../AppContext\";\r\n\r\nconst ModalCloseButton = props => {\r\n  const context = useContext(ElementsContext);\r\n  // this is the hook equivalent of componentDidMount\r\n  // if the useEffect's second argument is [], it only runs the function inside\r\n  // after the first render and no more\r\n  useEffect(() => {\r\n    // code to run on first render\r\n    console.log(context);\r\n  }, []);\r\n\r\n  const onCloseClick = () => {\r\n    if (props.onClose) {\r\n      props.onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      ref={context.setModalCloseButtonRef}\r\n      className=\"modal-close\"\r\n      onClick={onCloseClick}\r\n      onKeyDown={e => {\r\n        if (e.shiftKey && e.key === \"Tab\") {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          // put the element to focus here\r\n          setTimeout(() => {\r\n            if (context.modalProjectsSubmitButtonRef) {\r\n              context.modalProjectsSubmitButtonRef.focus();\r\n            } else if (context.modalProjectsDeleteButtonRef) {\r\n              context.modalProjectsDeleteButtonRef.focus();\r\n            } else if (context.modalTasksSubmitButtonRef) {\r\n              context.modalTasksSubmitButtonRef.focus();\r\n            } else if (context.modalTasksDeleteButtonRef) {\r\n              context.modalTasksDeleteButtonRef.focus();\r\n            } else if (context.modalDetailsEditButtonRef) {\r\n              context.modalDetailsEditButtonRef.focus();\r\n            } else if (context.modalDetailsDeleteButtonRef) {\r\n              context.modalDetailsDeleteButtonRef.focus();\r\n            } else if (context.modalDeleteAllButtonRef) {\r\n              context.modalDeleteAllButtonRef.focus();\r\n            }\r\n          }, 0);\r\n        }\r\n      }}\r\n    >\r\n      x\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ModalCloseButton;\r\n","import \"./Modal.css\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport ModalCloseButton from \"./common/ModalCloseButton\";\r\nimport { ElementsContext } from \"../AppContext\";\r\n\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.modalBackdrop = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {}\r\n  static contextType = ElementsContext;\r\n\r\n  onBackdropClick = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.props.onDismiss();\r\n  };\r\n\r\n  render() {\r\n    return ReactDOM.createPortal(\r\n      <div\r\n        ref={this.modalBackdrop}\r\n        onClick={(e) => this.onBackdropClick(e)}\r\n        className={`backdrop ${this.props.backdropClass || null}`}\r\n      >\r\n        <section\r\n          onClick={(event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n          }}\r\n          id={this.props.sectionId}\r\n          className=\"modal-container\"\r\n          tabIndex=\"-1\"\r\n          role=\"dialog\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <ModalCloseButton onClose={() => this.props.onDismiss()} />\r\n          {this.props.content()}\r\n        </section>\r\n      </div>,\r\n      document.getElementById(\"modal\")\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\nconst ModalCancelButton = props => {\r\n  const onCloseClick = () => {\r\n    if (props.onClose) {\r\n      props.onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={onCloseClick}\r\n      className=\"modal-action-button cancel-button\"\r\n      autoFocus={props.autoFocus || false}\r\n    >\r\n      Cancel\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ModalCancelButton;\r\n","import \"./ProjectForm.css\";\r\n\r\nimport React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { renderError, getErrorClass } from \"../../../helpers\";\r\n\r\nimport ModalCancelButton from \"../../Modal/common/ModalCancelButton\";\r\nimport { ElementsContext } from \"../../AppContext\";\r\n\r\nclass ProjectForm extends React.Component {\r\n  state = {\r\n    autofocus: false,\r\n  };\r\n  static contextType = ElementsContext;\r\n\r\n  componentDidMount() {}\r\n\r\n  handleEnterKeyOnField = (e) => {\r\n    // This prevents submission bugging or refreshing upon pressing enter\r\n    // in an input field inside a form\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (e.target.type !== \"checkbox\") {\r\n        this.props.handleSubmit(this.onSubmit)();\r\n      }\r\n    }\r\n  };\r\n\r\n  renderInput = ({ input, meta, inputProps, labelProps }) => {\r\n    const errorClass = getErrorClass(meta);\r\n    const labelClass = labelProps.class || null;\r\n    const labelId = labelProps.id || null;\r\n    return (\r\n      <React.Fragment>\r\n        <label\r\n          htmlFor={inputProps.id}\r\n          className={`${errorClass} ${labelClass}`}\r\n          id={labelId}\r\n        >\r\n          {labelProps.text}\r\n        </label>\r\n        <input\r\n          {...inputProps}\r\n          {...input}\r\n          className={`${inputProps.className} ${errorClass}`}\r\n          onKeyDown={(e) => {\r\n            this.handleEnterKeyOnField(e);\r\n          }}\r\n          autoFocus={inputProps.autoFocus || false}\r\n        />\r\n        {renderError(meta, \"project\")}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form id=\"project-form-form\">\r\n        <div id=\"project-form-field-div\">\r\n          <Field\r\n            name=\"name\"\r\n            component={this.renderInput}\r\n            type=\"text\"\r\n            props={{\r\n              inputProps: {\r\n                placeholder: \"Project Name\",\r\n                className: \"text-field form-name-field\",\r\n                maxLength: \"30\",\r\n                autoComplete: \"off\",\r\n                id: \"project-form-name-field\",\r\n                autoFocus: true,\r\n              },\r\n              labelProps: {\r\n                class: \"form-label block\",\r\n                text: \"Project Name *\",\r\n                id: \"project-form-name-label\",\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div\r\n          className=\"two-buttons-container\"\r\n          id=\"project-form-buttons-container\"\r\n        >\r\n          <ModalCancelButton\r\n            onClose={() => {\r\n              console.log(\"cancel dismissed\");\r\n              this.props.onClose();\r\n            }}\r\n          />\r\n\r\n          <button\r\n            ref={this.context.setModalProjectsSubmitButtonRef}\r\n            type=\"submit\"\r\n            className=\"form-submit modal-action-button\"\r\n            id=\"project-form-submit\"\r\n            onClick={this.props.handleSubmit(this.onSubmit)}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Tab\" && !e.shiftKey) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                // put the element to focus here\r\n                if (this.context.modalCloseButtonRef) {\r\n                  this.context.modalCloseButtonRef.focus();\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  if (!formValues.name) {\r\n    errors.name = \"Please input a name for the project.\";\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"projectForm\",\r\n  validate,\r\n})(ProjectForm);\r\n","import _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchProject, editProject } from \"../../../actions\";\r\nimport ProjectForm from \"./ProjectForm\";\r\n\r\nclass EditProject extends React.Component {\r\n  onSubmit = async (formValues) => {\r\n    await this.props.editProject(\r\n      this.props.auth.userId,\r\n      this.props.id,\r\n      formValues\r\n    );\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h1 className=\"modal-header\">Rename Project</h1>\r\n        <ProjectForm\r\n          onSubmit={this.onSubmit}\r\n          onClose={this.props.onClose}\r\n          initialValues={_.pick(this.props.project, \"name\")}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: { ...state.auth.user },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { editProject, fetchProject })(\r\n  EditProject\r\n);\r\n","import \"./ProjectItem.css\";\r\nimport PencilImg from \"../../images/rename.png\";\r\nimport TrashImg from \"../../images/trash.png\";\r\n\r\nimport _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nimport ModalCloseButton from \"../Modal/common/ModalCloseButton\";\r\nimport ModalCancelButton from \"../Modal/common/ModalCancelButton\";\r\nimport { deleteProject } from \"../../actions\";\r\nimport EditProject from \"../forms/projects/EditProject\";\r\nimport { ellipsifyString } from \"../../helpers\";\r\n\r\nimport { ElementsContext } from \"../AppContext\";\r\n\r\nclass ProjectItem extends React.Component {\r\n  state = {\r\n    modalsOpened: {\r\n      any: false,\r\n      edit: false,\r\n      delete: false,\r\n    },\r\n    backdropClass: null,\r\n  };\r\n\r\n  static contextType = ElementsContext;\r\n\r\n  // refs(outside constructor)\r\n  editButtonRef = React.createRef();\r\n  deleteButtonRef = React.createRef();\r\n\r\n  // focus methods\r\n  focusEditButton = () => {\r\n    this.editButtonRef.current.focus();\r\n  };\r\n\r\n  focusDeleteButton = () => {\r\n    this.deleteButtonRef.current.focus();\r\n  };\r\n\r\n  // methods related to Settings component\r\n  closeSettings = () => {\r\n    if (this.props.closeSettings) this.props.closeSettings();\r\n    return null;\r\n  };\r\n\r\n  renderDeleteContent = () => {\r\n    return (\r\n      <React.Fragment>\r\n        <h1 className=\"modal-header\">Delete Project</h1>\r\n        <form id=\"delete-project-form\">\r\n          <p className=\"modal-paragraph\">\r\n            Would you like to delete this project?\r\n          </p>\r\n          <p className=\"modal-paragraph modal-warning\">\r\n            WARNING: All deleted tasks' data cannot be recovered!\r\n          </p>\r\n          <p className=\"modal-paragraph delete-item-title\">\r\n            {this.props.project.name}\r\n          </p>\r\n          <div\r\n            className=\"two-buttons-container\"\r\n            id=\"delete-project-buttons-container\"\r\n          >\r\n            <ModalCancelButton\r\n              onClose={() => this.dismissModalHandler()}\r\n              autoFocus={true}\r\n            />\r\n\r\n            <button\r\n              ref={this.context.setModalProjectsDeleteButtonRef}\r\n              className=\"modal-action-button delete-confirm-button\"\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Tab\" && !e.shiftKey) {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  // put the element to focus here\r\n                  if (this.context.modalCloseButtonRef) {\r\n                    this.context.modalCloseButtonRef.focus();\r\n                  }\r\n                }\r\n              }}\r\n              onClick={() =>\r\n                this.props.deleteProject(this.props.auth.userId, this.props.id)\r\n              }\r\n            >\r\n              <img\r\n                id=\"delete-trash-icon\"\r\n                className=\"trash modal-button-image\"\r\n                src={TrashImg}\r\n                alt=\"Trashcan\"\r\n              />\r\n              <span className=\"modal-button-text\">Delete</span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  onModalOpen = (e, modalType) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({ modalsOpened: { any: true, [modalType]: true } });\r\n  };\r\n\r\n  renderModal = () => {\r\n    if (this.state.modalsOpened.edit) {\r\n      return (\r\n        <Modal\r\n          backdropClass={this.state.backdropClass || null}\r\n          sectionId=\"edit-project-content\"\r\n          content={() => (\r\n            <EditProject\r\n              onClose={() => {\r\n                this.dismissModalHandler();\r\n                setTimeout(() => {\r\n                  this.focusEditButton();\r\n                }, 200);\r\n              }}\r\n              project={this.props.project}\r\n              id={this.props.id}\r\n            />\r\n          )}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            setTimeout(() => {\r\n              this.focusEditButton();\r\n            }, 200);\r\n          }}\r\n        />\r\n      );\r\n    } else if (this.state.modalsOpened.delete) {\r\n      return (\r\n        <Modal\r\n          backdropClass={this.state.backdropClass || null}\r\n          sectionId=\"delete-project-content\"\r\n          content={this.renderDeleteContent}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            setTimeout(() => {\r\n              this.focusDeleteButton();\r\n            }, 200);\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  dismissModalHandler = () => {\r\n    this.setState({ backdropClass: \"closed\" });\r\n    const modalsOpened = _.mapValues(this.state.modalsOpened, () => false);\r\n    setTimeout(() => {\r\n      this.setState({\r\n        modalsOpened,\r\n        backdropClass: null,\r\n      });\r\n    }, 201);\r\n  };\r\n\r\n  render() {\r\n    const modalContent = this.renderModal();\r\n    const { project } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"project content\">\r\n          <div className=\"item-flex project\">\r\n            <div className=\"description-text project\">\r\n              {ellipsifyString(project.name, 13)}\r\n              <span className=\"project-count-span\">\r\n                {project.tasks ? Object.keys(project.tasks).length : 0}\r\n              </span>\r\n            </div>\r\n            <span className=\"project list-buttons-container\">\r\n              <button\r\n                ref={this.editButtonRef}\r\n                className=\"project edit-button icon-button\"\r\n                onClick={(e) => {\r\n                  this.onModalOpen(e, \"edit\");\r\n                  this.props.closeSettings();\r\n                }}\r\n              >\r\n                <img className=\"icon-image\" src={PencilImg} alt=\"Pencil\" />\r\n              </button>\r\n              <button\r\n                ref={this.deleteButtonRef}\r\n                className=\"project delete-button icon-button\"\r\n                onClick={(e) => {\r\n                  this.onModalOpen(e, \"delete\");\r\n                  this.props.closeSettings();\r\n                }}\r\n              >\r\n                <img className=\"icon-image\" src={TrashImg} alt=\"Trash Can\" />\r\n              </button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        {modalContent}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { projects: state.projects, auth: { ...state.auth.user } };\r\n};\r\n\r\nexport default connect(mapStateToProps, { deleteProject })(ProjectItem);\r\n","import \"./Settings.css\";\r\nimport EllipsisImg from \"../../images/ellipsis.png\";\r\nimport TrashImg from \"../../images/trash.png\";\r\nimport UpImg from \"../../images/up-arrow.png\";\r\nimport DownImg from \"../../images/down-arrow.png\";\r\n\r\nimport _ from \"lodash\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { ElementsContext } from \"../AppContext\";\r\n\r\nclass Settings extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  static contextType = ElementsContext;\r\n\r\n  closeMenu = () => {\r\n    this.props.closeModal();\r\n  };\r\n  renderList = () => {\r\n    // only return the reference for the first item if index = 0\r\n    const giveFirstItemRef = (index) => {\r\n      if (index === 0) {\r\n        return this.context.setFirstSettingsItem;\r\n      }\r\n      return null;\r\n    };\r\n    // render each item using array.map\r\n    const renderItems = () => {\r\n      const settingItems = this.props.settingItems;\r\n      // get the index number of the last item, for focus reference\r\n      const lastItemIndex = settingItems.length - 1;\r\n\r\n      if (settingItems) {\r\n        return settingItems.map((item, index) => {\r\n          const lastItemClass =\r\n            index === lastItemIndex ? \"settings-delete-all\" : null;\r\n          const renderItemImg = () => {\r\n            let itemImg = null;\r\n\r\n            //Read the item text to determine what kind of image is applied\r\n            if (item.text.includes(\"asc\")) {\r\n              itemImg = (\r\n                <img\r\n                  className={`icon-image arrow-image`}\r\n                  src={UpImg}\r\n                  alt=\"Up-arrow icon\"\r\n                />\r\n              );\r\n            } else if (item.text.includes(\"desc\")) {\r\n              itemImg = (\r\n                <img\r\n                  className={`icon-image arrow-image`}\r\n                  src={DownImg}\r\n                  alt=\"Down-arrow icon\"\r\n                />\r\n              );\r\n            } else if (item.text.includes(\"Del\") || item.text.includes(\"del\")) {\r\n              itemImg = (\r\n                <img\r\n                  className={`icon-image settings-trash-image`}\r\n                  src={TrashImg}\r\n                  alt=\"Trashcan icon\"\r\n                />\r\n              );\r\n            }\r\n            if (itemImg) {\r\n              return <div className={\"settings-item-div\"}>{itemImg}</div>;\r\n            }\r\n            return null;\r\n          };\r\n          return (\r\n            <li className=\"settings-submenu-item\" key={`0${index}`}>\r\n              <button\r\n                ref={giveFirstItemRef(index)}\r\n                onClick={(e) => {\r\n                  if (typeof item.method === \"function\") {\r\n                    item.method(e);\r\n                  }\r\n                }}\r\n                className={`settings-submenu-button ${this.props.backdropClass} ${lastItemClass}`}\r\n                onKeyDown={(e) => {\r\n                  // only applies to the first item\r\n                  if (index === 0) {\r\n                    if (e.key === \"Tab\" && e.shiftKey) {\r\n                      e.preventDefault();\r\n                      e.stopPropagation();\r\n                      this.props.focusEllipsisButton();\r\n                    }\r\n                  }\r\n                  // only applies to the last item\r\n                  if (index === lastItemIndex) {\r\n                    if (e.key === \"Tab\" && !e.shiftKey) {\r\n                      e.preventDefault();\r\n                      e.stopPropagation();\r\n                      this.props.focusEllipsisButton();\r\n                    }\r\n                  }\r\n                }}\r\n              >\r\n                {renderItemImg()}\r\n                {item.text}\r\n              </button>\r\n            </li>\r\n          );\r\n        });\r\n      }\r\n      return null;\r\n    };\r\n    return <ul className=\"settings-submenu-items\">{renderItems()}</ul>;\r\n  };\r\n  renderMenu = () => {\r\n    if (this.props.isModalOpen) {\r\n      const focusEllipsisButton = this.props.focusEllipsisButton;\r\n      return ReactDOM.createPortal(\r\n        <div\r\n          onClick={(e) => {\r\n            this.closeMenu();\r\n            // guards against undefined errors\r\n            if (focusEllipsisButton) {\r\n              setTimeout(() => focusEllipsisButton(), 201);\r\n            }\r\n          }}\r\n          className={`backdrop settings ${this.props.backdropClass}`}\r\n        >\r\n          <section\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              event.stopPropagation();\r\n            }}\r\n            id=\"settings-submenu\"\r\n            className={`modal-container settings ${this.props.backdropClass}`}\r\n            tabIndex=\"-1\"\r\n            role=\"dialog\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            {this.props.content || null}\r\n            {this.renderList()}\r\n          </section>\r\n        </div>,\r\n        document.getElementById(\"modal\")\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <button\r\n          className={`settings icon-button ${this.props.ellipsisClass}`}\r\n          // Should open a modal on mobile and a drop-down on desktop view\r\n          ref={this.props.setEllipsisRef}\r\n          onClick={(e) => {\r\n            if (this.props.isModalOpen) {\r\n              this.closeMenu();\r\n            } else {\r\n              this.props.openModal();\r\n            }\r\n          }}\r\n          onKeyDown={(e) => {\r\n            // only redirect focus if settings menu is open\r\n            if (this.context.firstSettingsItem) {\r\n              if (e.key === \"Tab\" && !e.shiftKey) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.context.firstSettingsItem.focus();\r\n              }\r\n            }\r\n          }}\r\n        >\r\n          <img\r\n            className={`icon-image black ${this.props.ellipsisClass}`}\r\n            src={EllipsisImg}\r\n            alt=\"Ellipsis icon\"\r\n          />\r\n        </button>\r\n        {this.renderMenu()}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport { capitalizeFirstLetter } from \"../../../helpers\";\r\n\r\nimport TrashImg from \"../../../images/trash.png\";\r\nimport ModalCancelButton from \"../../Modal/common/ModalCancelButton\";\r\n\r\nimport { ElementsContext } from \"../../AppContext\";\r\n\r\nclass DeleteAll extends React.Component {\r\n  static contextType = ElementsContext;\r\n\r\n  renderDataObjectName = () => {\r\n    const name = this.props.dataObject.name;\r\n    return name ? (\r\n      <p className=\"modal-paragraph delete-item-title\">{name}</p>\r\n    ) : null;\r\n  };\r\n  render() {\r\n    const { itemName } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <h1 className=\"modal-header\">\r\n          Delete All {capitalizeFirstLetter(itemName)}\r\n        </h1>\r\n        <form id=\"delete-project-form\">\r\n          <p className=\"modal-paragraph\">\r\n            Would you like to delete all of your {itemName}?\r\n          </p>\r\n          <p className=\"modal-paragraph modal-warning\">\r\n            WARNING: All deleted {itemName}' data cannot be recovered!\r\n          </p>\r\n          {this.renderDataObjectName()}\r\n          <div\r\n            className=\"two-buttons-container\"\r\n            id=\"delete-project-buttons-container\"\r\n          >\r\n            <ModalCancelButton\r\n              onClose={() => this.props.onClose()}\r\n              autoFocus={true}\r\n            />\r\n\r\n            <button\r\n              ref={this.context.setModalDeleteAllButtonRef}\r\n              className=\"modal-action-button delete-confirm-button\"\r\n              onClick={() => {\r\n                this.props.deleteFunction();\r\n              }}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Tab\" && !e.shiftKey) {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  // put the element to focus here\r\n                  if (this.context.modalCloseButtonRef) {\r\n                    this.context.modalCloseButtonRef.focus();\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              <img\r\n                id=\"delete-trash-icon\"\r\n                className=\"trash modal-button-image\"\r\n                src={TrashImg}\r\n                alt=\"Trashcan\"\r\n              />\r\n              <span className=\"modal-button-text\">Delete</span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteAll;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createProject } from \"../../../actions\";\r\n\r\nimport ProjectForm from \"./ProjectForm\";\r\n\r\nclass CreateProject extends React.Component {\r\n  onSubmit = async (formValues) => {\r\n    await this.props.createProject(this.props.auth.userId, formValues);\r\n    console.log(\"dismissed\");\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h1 className=\"modal-header\">New Project</h1>\r\n        <ProjectForm\r\n          closeButton={this.props.closeButton || null}\r\n          onSubmit={this.onSubmit}\r\n          onClose={() => {\r\n            console.log(\"onClose dismissed\");\r\n            this.props.onClose();\r\n          }}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: { ...state.auth.user },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { createProject })(CreateProject);\r\n","import \"./Projects.css\";\r\n\r\nimport _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  fetchProjects,\r\n  createProject,\r\n  deleteAllProjects,\r\n  sortProjectsByName,\r\n  sortProjectsByTasks,\r\n} from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport ListLoader from \"../ListLoader/ListLoader\";\r\nimport ProjectItem from \"../ProjectItem/ProjectItem.js\";\r\nimport Settings from \"../Settings/Settings\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport DeleteAll from \"../forms/commonModals/DeleteAll\";\r\nimport CreateProject from \"../forms/projects/CreateProject\";\r\n\r\nclass Projects extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.createButtonRef = React.createRef();\r\n    // callback ref initial state\r\n    this.ellipsisButtonRef = null;\r\n\r\n    this.state = {\r\n      modalsOpened: {\r\n        any: false,\r\n        create: false,\r\n        deleteAll: false,\r\n        settings: false,\r\n      },\r\n      backdropClass: null,\r\n      settingsBackdropClass: null,\r\n      settingsEllipsisClass: null,\r\n      showLoader: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    (async () => {\r\n      await this.props.fetchProjects(this.props.auth.userId);\r\n      this.setState({ showLoader: false });\r\n    })();\r\n  }\r\n\r\n  componentDidUpdate() {}\r\n\r\n  setEllipsisRef = (ref) => {\r\n    this.ellipsisButtonRef = ref;\r\n  };\r\n\r\n  // focus methods\r\n  focusCreateButton = () => {\r\n    // non-callback focus of ref\r\n    this.createButtonRef.current.focus();\r\n  };\r\n\r\n  focusEllipsisButton = () => {\r\n    if (this.ellipsisButtonRef) {\r\n      //guard\r\n      // callback focus of ref\r\n      this.ellipsisButtonRef.focus();\r\n    }\r\n  };\r\n\r\n  //\r\n  handleSettingsClose = () => {\r\n    if (this.state.modalsOpened.settings) {\r\n      this.setState({\r\n        settingsBackdropClass: \"closed\",\r\n        settingsEllipsisClass: null,\r\n      });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          modalsOpened: { ...this.state.modalsOpened, settings: false },\r\n          settingsBackdropClass: null,\r\n        });\r\n        console.log(this.state);\r\n      }, 200);\r\n    }\r\n  };\r\n\r\n  handleSettingsOpen = () => {\r\n    if (!this.state.modalsOpened.settings) {\r\n      this.setState({\r\n        modalsOpened: { settings: true },\r\n        settingsEllipsisClass: \"selected\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handleDeleteAll = () => {\r\n    this.props.deleteAllProjects(this.props.auth.userId);\r\n  };\r\n\r\n  onModalOpen = (event, modalType) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.setState({\r\n      modalsOpened: { any: true, [modalType]: true },\r\n    });\r\n  };\r\n\r\n  renderProjects = () => {\r\n    const projects = this.props.projects;\r\n\r\n    if (this.state.showLoader) {\r\n      return (\r\n        <div\r\n          style={{\r\n            color: \"#f8eeee\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            textAlign: \"center\",\r\n            height: \"3rem\",\r\n            fontSize: \"1.3rem\",\r\n          }}\r\n        >\r\n          There are no projects found.\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (Object.keys(projects).length >= 1) {\r\n      return projects.map((project) => (\r\n        <Link\r\n          to={`/projects/${project.id}`}\r\n          key={project.id}\r\n          className=\"project item list-header\"\r\n        >\r\n          <ProjectItem\r\n            project={project}\r\n            id={project.id}\r\n            closeSettings={() => this.handleSettingsClose()}\r\n          />\r\n        </Link>\r\n      ));\r\n    } else {\r\n      return (\r\n        <div\r\n          style={{\r\n            color: \"#f8eeee\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            textAlign: \"center\",\r\n            height: \"3rem\",\r\n            fontSize: \"1.3rem\",\r\n          }}\r\n        >\r\n          There are no projects found.\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderModal = () => {\r\n    if (this.state.modalsOpened.create) {\r\n      return (\r\n        <Modal\r\n          sectionId=\"create-project-content\"\r\n          backdropClass={this.state.backdropClass}\r\n          content={() => (\r\n            <CreateProject\r\n              onClose={() => {\r\n                console.log(\"dismissed\");\r\n                this.dismissModalHandler();\r\n                this.focusCreateButton();\r\n              }}\r\n            />\r\n          )}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            this.focusCreateButton();\r\n          }}\r\n        />\r\n      );\r\n    } else if (this.state.modalsOpened.deleteAll) {\r\n      return (\r\n        <Modal\r\n          sectionId=\"delete-all-project-content\"\r\n          backdropClass={this.state.backdropClass}\r\n          content={() => (\r\n            <DeleteAll\r\n              itemName=\"projects\"\r\n              dataObject={this.props.projects}\r\n              onClose={() => {\r\n                this.dismissModalHandler();\r\n                this.handleSettingsClose();\r\n                setTimeout(() => this.focusEllipsisButton(), 200);\r\n              }}\r\n              deleteFunction={async () => {\r\n                await this.handleDeleteAll();\r\n                this.dismissModalHandler();\r\n                this.handleSettingsClose();\r\n                setTimeout(() => this.focusEllipsisButton(), 200);\r\n              }}\r\n            />\r\n          )}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            this.handleSettingsClose();\r\n            setTimeout(() => this.focusEllipsisButton(), 200);\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  dismissModalHandler = () => {\r\n    this.setState({ backdropClass: \"closed\" });\r\n    const modalsOpened = _.mapValues(this.state.modalsOpened, () => false);\r\n    setTimeout(() => {\r\n      this.setState({\r\n        modalsOpened,\r\n        backdropClass: null,\r\n      });\r\n    }, 201);\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props.projects);\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          data-test=\"component-projects\"\r\n          className=\"projects-container\"\r\n          onClick={() => {\r\n            this.handleSettingsClose();\r\n          }}\r\n        >\r\n          <div id=\"projects-list\" className=\"todolist ui segment\">\r\n            <div className=\"ui relaxed divided list\">\r\n              <ListLoader showLoader={this.state.showLoader} />\r\n              <div className=\"project item list-header first\">\r\n                <div className=\"project content\">\r\n                  <div className=\"header header-text project\">My Projects</div>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    width: \"9rem\",\r\n                  }}\r\n                >\r\n                  <button\r\n                    className=\"create-button\"\r\n                    ref={this.createButtonRef}\r\n                    onClick={(e) => {\r\n                      this.onModalOpen(e, \"create\");\r\n                      this.handleSettingsClose();\r\n                    }}\r\n                  >\r\n                    +\r\n                  </button>\r\n                  <Settings\r\n                    // focus functions\r\n                    setEllipsisRef={this.setEllipsisRef}\r\n                    focusEllipsisButton={this.focusEllipsisButton}\r\n                    // modal functions\r\n                    isModalOpen={this.state.modalsOpened.settings}\r\n                    openModal={this.handleSettingsOpen}\r\n                    closeModal={this.handleSettingsClose}\r\n                    // class names linked to state\r\n                    backdropClass={this.state.settingsBackdropClass}\r\n                    ellipsisClass={this.state.settingsEllipsisClass}\r\n                    settingItems={[\r\n                      {\r\n                        text: \"Sort ascending (name)\",\r\n                        method: () => {\r\n                          this.props.sortProjectsByName(\r\n                            this.props.auth.userId,\r\n                            this.props.projects\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort ascending (tasks)\",\r\n                        method: () => {\r\n                          this.props.sortProjectsByTasks(\r\n                            this.props.auth.userId,\r\n                            this.props.projects,\r\n                            \"ascending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (name)\",\r\n                        method: () => {\r\n                          this.props.sortProjectsByName(\r\n                            this.props.auth.userId,\r\n                            this.props.projects,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (tasks)\",\r\n                        method: () => {\r\n                          this.props.sortProjectsByTasks(\r\n                            this.props.auth.userId,\r\n                            this.props.projects,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Delete all projects\",\r\n                        method: (e) => {\r\n                          this.handleSettingsClose();\r\n                          this.onModalOpen(e, \"deleteAll\");\r\n                        },\r\n                      },\r\n                    ]}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {this.renderProjects()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.renderModal()}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    projects: state.projects,\r\n    auth: { ...state.auth.user },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  fetchProjects,\r\n  createProject,\r\n  deleteAllProjects,\r\n  sortProjectsByName,\r\n  sortProjectsByTasks,\r\n})(Projects);\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  getCurrentDate,\r\n  autoGrow,\r\n  renderError,\r\n  getErrorClass,\r\n} from \"../../../helpers\";\r\n\r\nimport { ElementsContext } from \"../../AppContext\";\r\n\r\nimport ModalCancelButton from \"../../Modal/common/ModalCancelButton\";\r\n\r\nclass TaskForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.textAreaElement = React.createRef();\r\n    this.state = {\r\n      finished: this.props.initialValues\r\n        ? this.props.initialValues.finished\r\n        : false,\r\n    };\r\n  }\r\n  static contextType = ElementsContext;\r\n\r\n  handleEnterKeyOnField = (e) => {\r\n    // This prevents submission bugging or refreshing upon pressing enter\r\n    // in an input field inside a form\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (e.target.type !== \"checkbox\") {\r\n        this.props.handleSubmit(this.onSubmit)();\r\n      }\r\n    }\r\n  };\r\n\r\n  retrieveChecked = (inputName) => {\r\n    return inputName === \"finished\" ? this.state.finished : undefined;\r\n  };\r\n\r\n  renderInput = ({ input, meta, inputProps, labelProps }) => {\r\n    const { disabled } = this.props;\r\n    const errorClass = getErrorClass(meta);\r\n    const labelClass = labelProps.class || null;\r\n    const labelId = labelProps.id || null;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <label\r\n          htmlFor={inputProps.id}\r\n          className={`${errorClass} ${labelClass}`}\r\n          id={labelId}\r\n        >\r\n          {labelProps.text}\r\n        </label>\r\n        <input\r\n          disabled={disabled || false}\r\n          {...inputProps}\r\n          {...input}\r\n          className={`${inputProps.className} ${errorClass}`}\r\n          onKeyDown={(e) => {\r\n            this.handleEnterKeyOnField(e, input);\r\n          }}\r\n          checked={this.retrieveChecked(input.name)}\r\n          autoFocus={inputProps.autoFocus || false}\r\n        />\r\n        {renderError(meta, \"task\")}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  renderTextArea = ({ input, meta, inputProps, labelProps }) => {\r\n    const { disabled } = this.props;\r\n    const errorClass = getErrorClass(meta);\r\n    const labelClass = labelProps.class || null;\r\n    const labelId = labelProps.id || null;\r\n\r\n    // get rid of description placeholders\r\n    if (input.name === \"description\" && !disabled) {\r\n      input.value =\r\n        input.value !== \"No description provided.\" ? input.value : \"\";\r\n    }\r\n\r\n    if (!disabled) {\r\n      return (\r\n        <React.Fragment>\r\n          <label\r\n            htmlFor={inputProps.id}\r\n            className={`form-label block ${errorClass} ${labelClass}`}\r\n          >\r\n            {labelProps.text}\r\n          </label>\r\n          <textarea\r\n            {...inputProps}\r\n            {...input}\r\n            rows={7}\r\n            className={`${inputProps.className} ${errorClass}`}\r\n            disabled={disabled || false}\r\n            onKeyDown={(e) => {\r\n              this.handleEnterKeyOnField(e, input);\r\n            }}\r\n            onInput={(e) => autoGrow(e.target)}\r\n          ></textarea>\r\n\r\n          {renderError(meta, \"task\")}\r\n        </React.Fragment>\r\n      );\r\n    } else if (disabled) {\r\n      return (\r\n        <React.Fragment>\r\n          <label\r\n            htmlFor={inputProps.id}\r\n            className={`form-label block ${errorClass}`}\r\n          >\r\n            {labelProps.text}\r\n          </label>\r\n          <div className={`text-field disabled`}>{input.value}</div>\r\n\r\n          {renderError(meta, \"task\")}\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderSelect = ({ input, meta, inputProps, labelProps }) => {\r\n    const { disabled } = this.props;\r\n    const errorClass = getErrorClass(meta);\r\n    return (\r\n      <React.Fragment>\r\n        <label\r\n          htmlFor={inputProps.id}\r\n          className={`form-label block ${errorClass}`}\r\n        >\r\n          {labelProps.text}\r\n        </label>\r\n        <select\r\n          {...inputProps}\r\n          {...input}\r\n          className={`${inputProps.className} ${errorClass}`}\r\n          disabled={disabled || false}\r\n        >\r\n          <option value=\"\">--Priority Level--</option>\r\n          <option value=\"high\">High</option>\r\n          <option value=\"medium\">Medium</option>\r\n          <option value=\"low\">Low</option>\r\n        </select>\r\n        {renderError(meta, \"task\")}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  renderNameField = () => {\r\n    if (this.props.disabled) {\r\n      return this.renderTextArea;\r\n    }\r\n    return this.renderInput;\r\n  };\r\n\r\n  // Hides buttons for details display ( used only by non-action modals )\r\n  hideButtons = () => {\r\n    if (this.props.hideButtons) {\r\n      return { display: \"none\" };\r\n    }\r\n    return {};\r\n  };\r\n\r\n  // This is the opposite of hidebuttons, show only when form is disabled\r\n  showIfDisabled = () => {\r\n    if (!this.props.hideButtons) {\r\n      return { display: \"none\" };\r\n    }\r\n    return {};\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    const { disabled } = this.props;\r\n    return (\r\n      <form id=\"task-form-form\">\r\n        <div className=\"task-form-field-div\">\r\n          <Field\r\n            name=\"name\"\r\n            component={this.renderNameField()}\r\n            type=\"text\"\r\n            props={{\r\n              inputProps: {\r\n                placeholder: \"Task Name\",\r\n                className: \"text-field form-name-field\",\r\n                id: \"task-name-field\",\r\n                maxLength: \"30\",\r\n                autoComplete: \"off\",\r\n                autoFocus: true,\r\n              },\r\n              labelProps: {\r\n                text: \"Task Name *\",\r\n                class: \"task form-label block\",\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"task-form-field-div\">\r\n          <Field\r\n            name=\"description\"\r\n            component={this.renderTextArea}\r\n            props={{\r\n              inputProps: {\r\n                placeholder: \"Task Description\",\r\n                className: \"text-field form-description-field\",\r\n                id: \"task-description-field\",\r\n                maxLength: \"100\",\r\n                autoComplete: \"off\",\r\n              },\r\n              labelProps: {\r\n                text: \"Task Description\",\r\n                class: \"task form-label block\",\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"task-form-field-div\" id=\"date-time-flex\">\r\n          <div className=\"date-time-flex-item\">\r\n            <Field\r\n              name=\"date\"\r\n              component={this.renderInput}\r\n              props={{\r\n                inputProps: {\r\n                  placeholder: \"Date\",\r\n                  className: \"text-field form-date-field\",\r\n                  id: \"task-date-field\",\r\n                  type: \"date\",\r\n                  min: getCurrentDate(),\r\n                  required: true,\r\n                },\r\n                labelProps: {\r\n                  text: \"Date\",\r\n                  class: \"task form-label block\",\r\n                },\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"date-time-flex-item\">\r\n            <Field\r\n              name=\"time\"\r\n              component={this.renderInput}\r\n              props={{\r\n                inputProps: {\r\n                  placeholder: \"Time\",\r\n                  className: \"text-field form-time-field\",\r\n                  id: \"task-time-field\",\r\n                  type: \"time\",\r\n                  autoComplete: \"off\",\r\n                  required: true,\r\n                },\r\n                labelProps: {\r\n                  text: \"Time\",\r\n                  class: \"task form-label block\",\r\n                },\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"task-form-field-div\">\r\n          <Field\r\n            name=\"priority\"\r\n            component={this.renderSelect}\r\n            props={{\r\n              inputProps: {\r\n                placeholder: \"Task Priority\",\r\n                className: \"text-field form-priority-field\",\r\n                id: \"task-priority-field\",\r\n              },\r\n              labelProps: {\r\n                text: \"Task Priority\",\r\n                class: \"task form-label block\",\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"task-form-field-div\" id=\"task-form-checkbox-div\">\r\n          <Field\r\n            name=\"finished\"\r\n            component={this.renderInput}\r\n            type=\"checkbox\"\r\n            You\r\n            props={{\r\n              inputProps: {\r\n                className: \"form-checkbox\",\r\n                id: \"task-form-checkbox\",\r\n                type: \"checkbox\",\r\n                onClick: (e) => {\r\n                  const target = e.target;\r\n                  this.setState({ finished: !this.state.finished });\r\n\r\n                  target.blur();\r\n                  setTimeout(() => {\r\n                    target.focus();\r\n                  }, 0);\r\n                },\r\n              },\r\n              labelProps: {\r\n                text: \"Finished\",\r\n                class: \"task form-label checkbox-label\",\r\n                id: \"task-form-checkbox-label\",\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"two-buttons-container\"\r\n          id=\"task-form-buttons-container\"\r\n          style={this.hideButtons()}\r\n        >\r\n          <ModalCancelButton\r\n            onClose={() => {\r\n              this.props.onClose();\r\n            }}\r\n          />\r\n\r\n          <button\r\n            ref={(() => {\r\n              //this is an IIFE\r\n              if (this.props.hideButtons) {\r\n                // don't give it a ref if it's hidden\r\n                return null;\r\n              }\r\n              return this.context.setModalTasksSubmitButtonRef;\r\n            })()}\r\n            type=\"submit\"\r\n            className=\"form-submit modal-action-button\"\r\n            id=\"task-form-submit\"\r\n            onClick={this.props.handleSubmit(this.onSubmit)}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Tab\" && !e.shiftKey) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                // put the element to focus here\r\n                if (this.context.modalCloseButtonRef) {\r\n                  this.context.modalCloseButtonRef.focus();\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            <span className=\"submit-button-text\">Submit</span>{\" \"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  if (!formValues.name) {\r\n    errors.name = \"Please input a name.\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"taskForm\",\r\n  keepDirtyOnReinitialize: true,\r\n  enableReinitialize: true,\r\n  validate,\r\n})(TaskForm);\r\n","import TrashImg from \"../../../images/trash.png\";\r\nimport WrenchImg from \"../../../images/wrench.png\";\r\n\r\nimport _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport TaskForm from \"./TaskForm\";\r\n\r\nimport { ElementsContext } from \"../../AppContext\";\r\n\r\nclass TaskDetails extends React.Component {\r\n  static contextType = ElementsContext;\r\n\r\n  renderActionButtons = () => {\r\n    // Instead of both, should be able to pick buttons One by one\r\n    // Use different conditions for each button rendering\r\n    if (!this.props.hideActionButtons) {\r\n      const renderDelete = () => {\r\n        if (!this.props.hideActionDelete && !this.props.hideActionEdit) {\r\n          return (\r\n            <button\r\n              className=\"details modal-action-button delete-confirm-button\"\r\n              onClick={() => {\r\n                this.props.switchModal(\"delete\");\r\n              }}\r\n            >\r\n              Delete Task\r\n            </button>\r\n          );\r\n        } else if (!this.props.hideActionDelete && this.props.hideActionEdit) {\r\n          return (\r\n            <button\r\n              ref={this.context.setModalDetailsDeleteButtonRef}\r\n              className=\"modal-action-button delete-confirm-button no-edit\"\r\n              autoFocus={true}\r\n              onClick={() => {\r\n                this.props.switchModal(\"delete\");\r\n              }}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Tab\" && !e.shiftKey) {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  // put the element to focus here\r\n                  if (this.context.modalCloseButtonRef) {\r\n                    this.context.modalCloseButtonRef.focus();\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              <img\r\n                id=\"delete-trash-icon\"\r\n                className=\"trash modal-button-image no-edit\"\r\n                src={TrashImg}\r\n                alt=\"Trashcan\"\r\n              />\r\n              <span style={{ position: \"relative\", left: \"0.6rem\" }}>\r\n                Delete Task\r\n              </span>\r\n            </button>\r\n          );\r\n        }\r\n        return null;\r\n      };\r\n      const renderEdit = () => {\r\n        if (!this.props.hideActionEdit) {\r\n          return (\r\n            <button\r\n              ref={this.context.setModalDetailsEditButtonRef}\r\n              className=\"details modal-action-button edit-modal-button\"\r\n              autoFocus={true}\r\n              onClick={() => {\r\n                this.props.switchModal(\"edit\");\r\n              }}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Tab\" && !e.shiftKey) {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  // put the element to focus here\r\n                  if (this.context.modalCloseButtonRef) {\r\n                    this.context.modalCloseButtonRef.focus();\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              <img\r\n                id=\"edit-wrench-icon\"\r\n                className=\"wrench modal-button-image\"\r\n                src={WrenchImg}\r\n                alt=\"Wrench\"\r\n              />\r\n              <span className=\"modal-button-text\">Edit Task</span>\r\n            </button>\r\n          );\r\n        }\r\n        return null;\r\n      };\r\n      return (\r\n        <div\r\n          className=\"two-buttons-container\"\r\n          id=\"task-details-buttons-container\"\r\n        >\r\n          {renderDelete()}\r\n          {renderEdit()}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <TaskForm\r\n          onClose={() => {\r\n            this.props.onClose();\r\n            if (this.props.focusTaskContent) {\r\n              setTimeout(() => {\r\n                this.props.focusTaskContent();\r\n              }, 200);\r\n            }\r\n          }}\r\n          initialValues={{ ...this.props.task }}\r\n          disabled={true}\r\n          hideButtons=\"true\"\r\n        />\r\n        {this.renderActionButtons()}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null)(TaskDetails);\r\n","import { format } from \"date-fns\";\r\nimport { getCurrentDate } from \"../../../helpers\";\r\nimport _ from \"lodash\";\r\n\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { editTask, editDueTodayTask } from \"../../../actions\";\r\nimport TaskForm from \"./TaskForm\";\r\n\r\nclass EditTask extends React.Component {\r\n  processEmptyOptionals = (formValues) => {\r\n    const description = formValues.description || \"No description provided.\";\r\n    const date = formValues.date || getCurrentDate();\r\n    const time =\r\n      formValues.time || format(new Date(`${getCurrentDate()}T23:59`), \"HH:mm\");\r\n    const priority = formValues.priority || \"medium\";\r\n    const finished = formValues.finished || false;\r\n    return { ...formValues, description, date, time, priority, finished };\r\n  };\r\n\r\n  onSubmit = async (formValues) => {\r\n    const processedValues = this.processEmptyOptionals(formValues);\r\n    const date = format(\r\n      new Date(processedValues.date.replace(/-/g, \"/\")),\r\n      \"yyyy-MM-dd\"\r\n    );\r\n    const time = format(\r\n      new Date(`${getCurrentDate()}T${processedValues.time}`),\r\n      \"HH:mm\"\r\n    );\r\n    const reformattedValues = { ...processedValues, date, time };\r\n    await this.props.editTask(\r\n      this.props.auth.userId,\r\n      this.props.projectId,\r\n      this.props.taskId,\r\n      reformattedValues\r\n    );\r\n    if (this.props.dueTodayIndex) {\r\n      await this.props.editDueTodayTask(\r\n        this.props.auth.userId,\r\n        this.props.dueTodayIndex,\r\n        reformattedValues\r\n      );\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h1 className=\"modal-header\">Edit Task</h1>\r\n        <TaskForm\r\n          onSubmit={this.onSubmit}\r\n          onClose={this.props.onClose}\r\n          initialValues={{ ...this.props.task }}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: { ...state.auth.user },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { editTask, editDueTodayTask })(\r\n  EditTask\r\n);\r\n","import \"./TaskItem.css\";\r\nimport PencilImg from \"../../images/rename.png\";\r\nimport TrashImg from \"../../images/trash.png\";\r\n\r\nimport _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Modal from \"../Modal/Modal\";\r\nimport ModalCloseButton from \"../Modal/common/ModalCloseButton\";\r\nimport ModalCancelButton from \"../Modal/common/ModalCancelButton\";\r\n\r\nimport TaskDetails from \"../forms/tasks/TaskDetails\";\r\nimport EditTask from \"../forms/tasks/EditTask\";\r\nimport {\r\n  toggleTaskCheck,\r\n  deleteTask,\r\n  deleteFinishedTask,\r\n  deleteDueTodayTask,\r\n  toggleDueTodayTaskCheck\r\n} from \"../../actions\";\r\nimport { convertToMDY, ellipsifyString, toStandardTime } from \"../../helpers\";\r\n\r\nimport { ElementsContext } from \"../AppContext\";\r\n\r\nclass TaskItem extends React.Component {\r\n  state = {\r\n    modalsOpened: {\r\n      any: false,\r\n      edit: false,\r\n      delete: false,\r\n      details: false\r\n    },\r\n    focusTaskContentOnClose: false,\r\n    backdropClass: null\r\n  };\r\n  static contextType = ElementsContext;\r\n\r\n  // refs(outside constructor)\r\n  taskContentRef = null;\r\n  editButtonRef = React.createRef();\r\n  deleteButtonRef = React.createRef();\r\n\r\n  // // callback version\r\n  setTaskContentRef = ref => {\r\n    this.taskContentRef = ref;\r\n  };\r\n\r\n  // focus methods\r\n  focusTaskContent = () => {\r\n    /* guard against undefined*/\r\n    if (this.taskContentRef) {\r\n      this.taskContentRef.focus();\r\n      this.setState({ focusTaskContentOnClose: false });\r\n    }\r\n  };\r\n\r\n  focusEditButton = () => {\r\n    this.editButtonRef.current.focus();\r\n  };\r\n\r\n  focusDeleteButton = () => {\r\n    this.deleteButtonRef.current.focus();\r\n  };\r\n\r\n  // settings component methods\r\n  closeSettings = () => {\r\n    if (this.props.closeSettings) this.props.closeSettings();\r\n    return null;\r\n  };\r\n\r\n  hideActionButtons = () => {\r\n    return this.props.hideActionButtons ? { visibility: \"hidden\" } : {};\r\n  };\r\n\r\n  renderActionButtons = () => {\r\n    const renderEdit = () => {\r\n      if (this.props.hideEditButton) {\r\n        return null;\r\n      }\r\n      return (\r\n        <button\r\n          ref={this.editButtonRef}\r\n          className=\"task edit-button icon-button\"\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.onModalOpen(\"edit\");\r\n            this.props.closeSettings();\r\n          }}\r\n        >\r\n          <img className=\"icon-image\" src={PencilImg} alt=\"Pencil\" />\r\n        </button>\r\n      );\r\n    };\r\n    const renderDelete = () => {\r\n      if (this.props.hideDeleteButton) {\r\n        return null;\r\n      }\r\n      return (\r\n        <button\r\n          ref={this.deleteButtonRef}\r\n          className=\"task delete-button icon-button\"\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.onModalOpen(\"delete\");\r\n            this.props.closeSettings();\r\n          }}\r\n        >\r\n          <img className=\"icon-image\" src={TrashImg} alt=\"Trash Can\" />\r\n        </button>\r\n      );\r\n    };\r\n    return (\r\n      <span\r\n        style={this.hideActionButtons()}\r\n        className=\"task list-buttons-container\"\r\n      >\r\n        {renderEdit()}\r\n        {renderDelete()}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  renderCheckbox = () => {\r\n    // do not render anything if set to hidden\r\n    if (this.props.hideCheckbox) {\r\n      return null;\r\n    }\r\n\r\n    const { task } = this.props;\r\n\r\n    const toggleCheckbox = e => {\r\n      e.stopPropagation();\r\n      const target = e.target;\r\n\r\n      // this is put in place because pressing enter does not toggle checked\r\n      if (e.key === \"Enter\") {\r\n        target.checked = !target.checked;\r\n      }\r\n\r\n      this.props.toggleTaskCheck(\r\n        this.props.auth.userId,\r\n        this.props.projectId,\r\n        this.props.taskId,\r\n        target.checked\r\n      );\r\n      if (this.props.dueTodayIndex) {\r\n        this.props.toggleDueTodayTaskCheck(\r\n          this.props.auth.userId,\r\n          this.props.dueTodayIndex,\r\n          target.checked\r\n        );\r\n      }\r\n    };\r\n\r\n    return (\r\n      <input\r\n        className=\"task list-checkbox\"\r\n        type=\"checkbox\"\r\n        defaultChecked={task.finished || false}\r\n        onKeyDown={e => {\r\n          if (e.key === \"Enter\") {\r\n            console.log(\"hello\");\r\n            toggleCheckbox(e);\r\n          }\r\n        }}\r\n        onClick={e => {\r\n          toggleCheckbox(e);\r\n        }}\r\n      ></input>\r\n    );\r\n  };\r\n\r\n  renderInfoBubble = () => {\r\n    const renderProjectName = () => {\r\n      if (this.props.hideProjectName) {\r\n        return null;\r\n      }\r\n      return (\r\n        <span className=\"tasklist-project-name\">{this.props.projectName}</span>\r\n      );\r\n    };\r\n    const renderDate = () => {\r\n      if (this.props.hideDate) {\r\n        return null;\r\n      }\r\n      return (\r\n        <span className=\"tasklist-date\">\r\n          {convertToMDY(this.props.task.date)}{\" \"}\r\n        </span>\r\n      );\r\n    };\r\n    const renderTime = () => {\r\n      if (this.props.hideTime) {\r\n        return null;\r\n      }\r\n      return (\r\n        <span className=\"time-hide-mobile tasklist-time\">\r\n          {\" \"}\r\n          - {toStandardTime(this.props.task.time)}\r\n        </span>\r\n      );\r\n    };\r\n    return (\r\n      <span className=\"project-date-time-span\">\r\n        {renderProjectName()}\r\n        {renderDate()}\r\n        {renderTime()}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  renderDeleteContent = () => {\r\n    return (\r\n      <React.Fragment>\r\n        <ModalCloseButton onClose={this.dismissModalHandler} />\r\n        <h1 className=\"modal-header\">Delete Task</h1>\r\n        <form id=\"delete-task-form\">\r\n          <p className=\"modal-paragraph\">Would you like to delete this task?</p>\r\n          <p className=\"modal-paragraph modal-warning\">\r\n            WARNING: All deleted tasks' data cannot be recovered!\r\n          </p>\r\n          <p className=\"modal-paragraph delete-item-title\">\r\n            {this.props.task.name}\r\n          </p>\r\n          <div\r\n            className=\"two-buttons-container\"\r\n            id=\"delete-task-buttons-container\"\r\n          >\r\n            <ModalCancelButton\r\n              onClose={this.dismissModalHandler}\r\n              autoFocus={true}\r\n            />\r\n\r\n            <button\r\n              ref={this.context.setModalTasksDeleteButtonRef}\r\n              className=\"modal-action-button delete-confirm-button\"\r\n              onClick={async () => {\r\n                await this.props.deleteTask(\r\n                  this.props.auth.userId,\r\n                  this.props.projectId,\r\n                  this.props.taskId\r\n                );\r\n                // indexes for both finished and today\r\n                if (this.props.finishedIndex) {\r\n                  this.props.deleteFinishedTask(\r\n                    this.props.auth.userId,\r\n                    this.props.finishedIndex\r\n                  );\r\n                }\r\n                if (this.props.dueTodayIndex) {\r\n                  this.props.deleteDueTodayTask(\r\n                    this.props.auth.userId,\r\n                    this.props.dueTodayIndex\r\n                  );\r\n                }\r\n                this.dismissModalHandler();\r\n              }}\r\n              onKeyDown={e => {\r\n                if (e.key === \"Tab\" && !e.shiftKey) {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  // put the element to focus here\r\n                  if (this.context.modalCloseButtonRef) {\r\n                    this.context.modalCloseButtonRef.focus();\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              <img\r\n                id=\"delete-trash-icon\"\r\n                className=\"trash modal-button-image\"\r\n                src={TrashImg}\r\n                alt=\"Trashcan\"\r\n              />\r\n              <span className=\"modal-button-text\">Delete</span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  onModalOpen = modalType => {\r\n    if (!this.state.modalsOpened.any) {\r\n      this.setState({ modalsOpened: { [modalType]: true, any: true } });\r\n    }\r\n  };\r\n\r\n  switchModalHandler = modalType => {\r\n    this.dismissModalHandler();\r\n    setTimeout(() => {\r\n      this.setState({ modalsOpened: { [modalType]: true, any: true } });\r\n    }, 205);\r\n  };\r\n\r\n  // This also could be recyclable\r\n  renderModal = () => {\r\n    if (this.state.modalsOpened.details) {\r\n      return (\r\n        <Modal\r\n          backdropClass={this.state.backdropClass || null}\r\n          sectionId=\"details-task-content\"\r\n          content={() => {\r\n            return (\r\n              <TaskDetails\r\n                // focus\r\n                focusTaskContent={this.focusTaskContent}\r\n                focusTaskContentOnClose={this.state.focusTaskContentOnClose}\r\n                // modal functions\r\n                onClose={() => {\r\n                  this.dismissModalHandler();\r\n                  setTimeout(() => {\r\n                    this.focusTaskContent();\r\n                  }, 200);\r\n                }}\r\n                switchModal={this.switchModalHandler}\r\n                // conditional rendering\r\n                hideActionEdit={this.props.hideEditButton}\r\n                // task and project information\r\n                task={this.props.task}\r\n                projectId={this.props.projectId}\r\n                taskId={this.props.taskId}\r\n              />\r\n            );\r\n          }}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            setTimeout(() => {\r\n              this.focusTaskContent();\r\n            }, 200);\r\n          }}\r\n        />\r\n      );\r\n    } else if (this.state.modalsOpened.edit) {\r\n      return (\r\n        <Modal\r\n          backdropClass={this.state.backdropClass || null}\r\n          sectionId=\"edit-task-content\"\r\n          content={() => {\r\n            return (\r\n              <EditTask\r\n                task={this.props.task}\r\n                onClose={() => {\r\n                  this.dismissModalHandler();\r\n                  if (this.state.focusTaskContentOnClose) {\r\n                    setTimeout(() => {\r\n                      this.focusTaskContent();\r\n                    }, 200);\r\n                  } else {\r\n                    setTimeout(() => {\r\n                      this.focusEditButton();\r\n                    }, 200);\r\n                  }\r\n                }}\r\n                projectId={this.props.projectId}\r\n                taskId={this.props.taskId}\r\n                dueTodayIndex={this.props.dueTodayIndex}\r\n              />\r\n            );\r\n          }}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            if (this.state.focusTaskContentOnClose) {\r\n              setTimeout(() => {\r\n                this.focusTaskContent();\r\n              }, 200);\r\n            } else {\r\n              setTimeout(() => {\r\n                this.focusEditButton();\r\n              }, 200);\r\n            }\r\n          }}\r\n        />\r\n      );\r\n    } else if (this.state.modalsOpened.delete) {\r\n      return (\r\n        <Modal\r\n          backdropClass={this.state.backdropClass || null}\r\n          sectionId=\"delete-task-content\"\r\n          content={this.renderDeleteContent}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            if (this.state.focusTaskContentOnClose) {\r\n              setTimeout(() => {\r\n                this.focusTaskContent();\r\n              }, 200);\r\n            } else {\r\n              setTimeout(() => {\r\n                this.focusDeleteButton();\r\n              }, 200);\r\n            }\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // We already recycle this\r\n  dismissModalHandler = () => {\r\n    this.setState({ backdropClass: \"closed\" });\r\n    const modalsOpened = _.mapValues(this.state.modalsOpened, () => false);\r\n    setTimeout(() => {\r\n      this.setState({\r\n        modalsOpened,\r\n        backdropClass: null\r\n      });\r\n    }, 201);\r\n  };\r\n\r\n  render() {\r\n    const modalContent = this.renderModal();\r\n    const { task } = this.props;\r\n\r\n    // change the indicator color depending on priority\r\n    const renderPriorityColor = () => {\r\n      if (task.priority === \"high\") {\r\n        return \"#ff807b\";\r\n      } else if (task.priority === \"medium\") {\r\n        return \"#f7bd9b\";\r\n      } else if (task.priority === \"low\") {\r\n        return \"#fffbdb\";\r\n      }\r\n    };\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          ref={this.setTaskContentRef}\r\n          tabIndex=\"0\"\r\n          className=\"task content\"\r\n          key={`${task.name}-${task.id}`}\r\n          onClick={e => {\r\n            if (!this.state.modalsOpened.details) {\r\n              this.setState({\r\n                modalsOpened: { any: true, details: true },\r\n                selectedTask: task,\r\n                focusTaskContentOnClose: true\r\n              });\r\n            }\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              backgroundColor: renderPriorityColor(),\r\n              height: \"3rem\",\r\n              width: \"0.6rem\",\r\n              position: \"absolute\",\r\n              left: \"0.3rem\",\r\n              marginTop: \"0rem\",\r\n              borderRadius: \"3px\"\r\n            }}\r\n          ></div>\r\n          <div className=\"item-flex task\">\r\n            {this.renderCheckbox()}\r\n            <div className=\"description-text task\">\r\n              {ellipsifyString(task.name, 25)} {this.renderInfoBubble()}\r\n            </div>\r\n\r\n            {this.renderActionButtons()}\r\n          </div>\r\n        </div>\r\n        {modalContent}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    project: state.selectedProject,\r\n    auth: { ...state.auth.user }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteTask,\r\n    toggleTaskCheck,\r\n    deleteFinishedTask,\r\n    deleteDueTodayTask,\r\n    toggleDueTodayTaskCheck\r\n  }\r\n)(TaskItem);\r\n","import { format } from \"date-fns\";\r\nimport { getCurrentDate } from \"../../../helpers\";\r\nimport _ from \"lodash\";\r\n\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createTask } from \"../../../actions\";\r\nimport TaskForm from \"./TaskForm\";\r\n\r\nclass CreateTask extends React.Component {\r\n  processEmptyOptionals = (formValues) => {\r\n    const description = formValues.description || \"No description provided.\";\r\n    const date = formValues.date || getCurrentDate();\r\n    console.log(date);\r\n    const time =\r\n      formValues.time || format(new Date(`${getCurrentDate()}T23:59`), \"HH:mm\");\r\n    const priority = formValues.priority || \"medium\";\r\n    const finished = formValues.finished || false;\r\n    return { ...formValues, description, date, time, priority, finished };\r\n  };\r\n\r\n  onSubmit = async (formValues) => {\r\n    const processedValues = this.processEmptyOptionals(formValues);\r\n    const date = format(\r\n      new Date(processedValues.date.replace(/-/g, \"/\")),\r\n      \"yyyy-MM-dd\"\r\n    );\r\n\r\n    console.log(processedValues.date);\r\n    console.log(date);\r\n    const time = format(\r\n      new Date(`${getCurrentDate()}T${processedValues.time}`),\r\n      \"HH:mm\"\r\n    );\r\n    const reformattedValues = { ...processedValues, date, time };\r\n    await this.props.createTask(\r\n      this.props.auth.userId,\r\n      this.props.id,\r\n      reformattedValues\r\n    );\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h1 className=\"modal-header\">Create Task</h1>\r\n        <TaskForm onSubmit={this.onSubmit} onClose={this.props.onClose} />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: { ...state.auth.user },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { createTask })(CreateTask);\r\n","import \"./Tasks.css\";\r\n\r\nimport _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  fetchProject,\r\n  deleteAllTasks,\r\n  sortTasksByName,\r\n  sortTasksByDate,\r\n  sortTasksByPriority,\r\n} from \"../../actions\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport ErrorPage from \"../ErrorPage/ErrorPage\";\r\nimport TaskItem from \"../TaskItem/TaskItem.js\";\r\nimport ListLoader from \"../ListLoader/ListLoader\";\r\nimport DeleteAll from \"../forms/commonModals/DeleteAll\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Settings from \"../Settings/Settings\";\r\n\r\nimport { ellipsifyString } from \"../../helpers\";\r\n\r\nimport CreateTask from \"../forms/tasks/CreateTask\";\r\n\r\nclass Tasks extends React.Component {\r\n  state = {\r\n    modalsOpened: {\r\n      any: false,\r\n      create: false,\r\n      deleteAll: false,\r\n    },\r\n    selectedTask: null,\r\n    backdropClass: null,\r\n    settingsBackdropClass: null,\r\n    settingsEllipsisClass: null,\r\n    showLoader: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    console.log(this.props);\r\n    (async () => {\r\n      await this.props.fetchProject(\r\n        this.props.auth.userId,\r\n        this.props.match.params.id\r\n      );\r\n\r\n      this.setState({ showLoader: false });\r\n    })();\r\n  }\r\n\r\n  componentDidUpdate() {}\r\n\r\n  // refs\r\n  createButtonRef = React.createRef();\r\n\r\n  // // using the callback version here because it's much more customizable\r\n  setEllipsisRef = (ref) => {\r\n    this.ellipsisButtonRef = ref;\r\n  };\r\n\r\n  // focus methods\r\n  focusCreateButton = () => {\r\n    // non-callback focus of ref\r\n    this.createButtonRef.current.focus();\r\n  };\r\n\r\n  focusEllipsisButton = () => {\r\n    if (this.ellipsisButtonRef) {\r\n      //guard\r\n      // callback focus of ref\r\n      this.ellipsisButtonRef.focus();\r\n    }\r\n  };\r\n\r\n  hideLoader = (delay) => {\r\n    this.setState({ loaderFadeClass: \"no-display\" });\r\n    if (delay) {\r\n      setTimeout(() => {\r\n        this.setState({ showLoader: false });\r\n      }, delay);\r\n    } else {\r\n      this.setState({ showLoader: false });\r\n    }\r\n  };\r\n\r\n  handleSettingsClose = () => {\r\n    if (this.state.modalsOpened.settings) {\r\n      this.setState({\r\n        settingsBackdropClass: \"closed\",\r\n        settingsEllipsisClass: null,\r\n      });\r\n\r\n      setTimeout(() => {\r\n        this.setState({\r\n          modalsOpened: { ...this.state.modalsOpened, settings: false },\r\n          settingsBackdropClass: null,\r\n        });\r\n      }, 200);\r\n    }\r\n  };\r\n\r\n  handleSettingsOpen = () => {\r\n    if (!this.state.modalsOpened.settings) {\r\n      this.setState({\r\n        modalsOpened: { settings: true },\r\n        settingsEllipsisClass: \"selected\",\r\n      });\r\n    }\r\n  };\r\n\r\n  onModalOpen = (modalType) => {\r\n    if (!this.state.modalsOpened.any) {\r\n      this.setState({\r\n        modalsOpened: { any: true, [modalType]: true },\r\n      });\r\n    }\r\n  };\r\n\r\n  renderProjectName = () => {\r\n    if (this.state.showLoader) {\r\n      return null;\r\n    }\r\n    return this.props.project.name\r\n      ? ellipsifyString(this.props.project.name, 20)\r\n      : null;\r\n  };\r\n\r\n  renderTasks = () => {\r\n    const projectId = this.props.project.id;\r\n    const tasks = this.props.project.tasks;\r\n    console.log(\"tasks is\");\r\n    console.log(tasks);\r\n\r\n    if (this.state.showLoader) {\r\n      return (\r\n        <div\r\n          style={{\r\n            color: \"#f8eeee\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            textAlign: \"center\",\r\n            height: \"3rem\",\r\n            fontSize: \"1.3rem\",\r\n          }}\r\n        >\r\n          There are no tasks found.\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (tasks && Object.keys(tasks).length !== 0) {\r\n      return tasks.map((task) => (\r\n        <div\r\n          key={task.id}\r\n          className={`task item list-header task-item-details`}\r\n        >\r\n          <TaskItem\r\n            hideProjectName={true}\r\n            task={task}\r\n            taskId={task.id}\r\n            projectId={this.props.match.params.id}\r\n            closeSettings={() => this.handleSettingsClose()}\r\n          />\r\n        </div>\r\n      ));\r\n    } else {\r\n      return (\r\n        <div\r\n          style={{\r\n            color: \"#f8eeee\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            textAlign: \"center\",\r\n            height: \"3rem\",\r\n            fontSize: \"1.3rem\",\r\n          }}\r\n        >\r\n          There are no tasks found.\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderModal = () => {\r\n    console.log(this.state.modalsOpened);\r\n\r\n    if (this.state.modalsOpened.create) {\r\n      return (\r\n        <Modal\r\n          backdropClass={this.state.backdropClass || null}\r\n          sectionId=\"create-task-content\"\r\n          content={() => {\r\n            return (\r\n              <CreateTask\r\n                onClose={() => {\r\n                  this.dismissModalHandler();\r\n                  setTimeout(() => {\r\n                    this.focusCreateButton();\r\n                  }, 200);\r\n                }}\r\n                id={this.props.match.params.id}\r\n              />\r\n            );\r\n          }}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            setTimeout(() => {\r\n              this.focusCreateButton();\r\n            }, 200);\r\n          }}\r\n        />\r\n      );\r\n    } else if (this.state.modalsOpened.deleteAll) {\r\n      return (\r\n        <Modal\r\n          backdropClass={this.state.backdropClass || null}\r\n          sectionId=\"delete-all-task-content\"\r\n          content={() => (\r\n            <DeleteAll\r\n              itemName=\"tasks\"\r\n              dataObject={this.props.project}\r\n              onClose={() => {\r\n                this.dismissModalHandler();\r\n                setTimeout(() => {\r\n                  this.focusEllipsisButton();\r\n                }, 200);\r\n              }}\r\n              deleteFunction={async () => {\r\n                await this.props.deleteAllTasks(\r\n                  this.props.auth.userId,\r\n                  this.props.project.id\r\n                );\r\n                this.dismissModalHandler();\r\n                setTimeout(() => {\r\n                  this.focusEllipsisButton();\r\n                }, 200);\r\n              }}\r\n            />\r\n          )}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            setTimeout(() => {\r\n              this.focusEllipsisButton();\r\n            }, 200);\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  dismissModalHandler = () => {\r\n    this.setState({ backdropClass: \"closed\" });\r\n    const modalsOpened = _.mapValues(this.state.modalsOpened, () => false);\r\n    setTimeout(() => {\r\n      this.setState({\r\n        modalsOpened,\r\n        backdropClass: null,\r\n      });\r\n    }, 201);\r\n  };\r\n\r\n  render() {\r\n    // render something else while this is loading\r\n    if (this.state.showLoader) {\r\n      return <div className=\"tasks-container\"></div>;\r\n    }\r\n    // if this project doesn't exist show an error 404 page\r\n    if (_.isEmpty(this.props.project)) {\r\n      return <ErrorPage errorType=\"404\" />;\r\n    }\r\n\r\n    console.log(this.props.project);\r\n    console.log(this.props.match.params.id);\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          data-test=\"component-tasks\"\r\n          className=\"tasks-container\"\r\n          onClick={() => {\r\n            this.handleSettingsClose();\r\n          }}\r\n        >\r\n          <div id=\"tasks-list\" className=\"todolist ui segment\">\r\n            <div className={`ui relaxed divided list`}>\r\n              <ListLoader showLoader={this.state.showLoader} />\r\n              <div className=\"task item list-header first\">\r\n                <div className=\"task content\">\r\n                  <div className=\"header header-text task\">\r\n                    {this.renderProjectName()}\r\n                  </div>\r\n                </div>\r\n                <div style={{ width: \"9rem\" }}>\r\n                  <button\r\n                    ref={this.createButtonRef}\r\n                    className=\"create-button\"\r\n                    onClick={(e) => {\r\n                      this.onModalOpen(e, \"create\");\r\n                    }}\r\n                  >\r\n                    +\r\n                  </button>\r\n                  <Settings\r\n                    // focus functions\r\n                    setEllipsisRef={this.setEllipsisRef}\r\n                    focusEllipsisButton={this.focusEllipsisButton}\r\n                    // modal functions\r\n                    isModalOpen={this.state.modalsOpened.settings}\r\n                    openModal={this.handleSettingsOpen}\r\n                    closeModal={this.handleSettingsClose}\r\n                    backdropClass={this.state.settingsBackdropClass}\r\n                    ellipsisClass={this.state.settingsEllipsisClass}\r\n                    settingItems={[\r\n                      {\r\n                        text: \"Sort ascending (name)\",\r\n                        method: () => {\r\n                          this.props.sortTasksByName(\r\n                            this.props.auth.userId,\r\n                            this.props.project.tasks,\r\n                            this.props.project.id\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort ascending (date)\",\r\n                        method: () => {\r\n                          this.props.sortTasksByDate(\r\n                            this.props.auth.userId,\r\n                            this.props.project.tasks,\r\n                            this.props.project.id\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort ascending (priority)\",\r\n                        method: () => {\r\n                          this.props.sortTasksByPriority(\r\n                            this.props.auth.userId,\r\n                            this.props.project.tasks,\r\n                            this.props.project.id\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (name)\",\r\n                        method: () => {\r\n                          this.props.sortTasksByName(\r\n                            this.props.auth.userId,\r\n                            this.props.project.tasks,\r\n                            this.props.project.id,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (date)\",\r\n                        method: () => {\r\n                          this.props.sortTasksByDate(\r\n                            this.props.auth.userId,\r\n                            this.props.project.tasks,\r\n                            this.props.project.id,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n\r\n                      {\r\n                        text: \"Sort descending (priority)\",\r\n                        method: () => {\r\n                          this.props.sortTasksByPriority(\r\n                            this.props.auth.userId,\r\n                            this.props.project.tasks,\r\n                            this.props.project.id,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Delete all tasks\",\r\n                        method: (e) => {\r\n                          this.onModalOpen(e, \"deleteAll\");\r\n                          this.handleSettingsClose();\r\n                        },\r\n                      },\r\n                    ]}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {this.renderTasks()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.renderModal()}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state.selectedProject);\r\n  return {\r\n    project: state.selectedProject,\r\n    auth: { ...state.auth.user },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchProject,\r\n  deleteAllTasks,\r\n  sortTasksByName,\r\n  sortTasksByDate,\r\n  sortTasksByPriority,\r\n})(withRouter(Tasks));\r\n","import TrashImg from \"../../images/trash.png\";\r\n\r\nimport _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport TaskItem from \"../TaskItem/TaskItem.js\";\r\nimport ListLoader from \"../ListLoader/ListLoader\";\r\nimport DeleteAll from \"../forms/commonModals/DeleteAll\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Settings from \"../Settings/Settings\";\r\n\r\nimport {\r\n  fetchFinishedTasks,\r\n  deleteTask,\r\n  deleteFinishedTask,\r\n  deleteAllFinishedTasks,\r\n  sortFinishedTasksByName,\r\n  sortFinishedTasksByDate,\r\n  sortFinishedTasksByPriority,\r\n} from \"../../actions\";\r\nimport { ellipsifyString } from \"../../helpers/index.js\";\r\n\r\nclass FinishedTasks extends React.Component {\r\n  state = {\r\n    modalsOpened: {\r\n      any: false,\r\n      details: false,\r\n      deleteAll: false,\r\n      settings: false,\r\n    },\r\n    selectedTask: null,\r\n    backdropClass: null,\r\n    settingsBackdropClass: null,\r\n    settingsEllipsisClass: null,\r\n    showLoader: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    (async () => {\r\n      await this.props.fetchFinishedTasks(this.props.auth.userId);\r\n      this.setState({ showLoader: false });\r\n    })();\r\n  }\r\n\r\n  componentDidUpdate() {}\r\n\r\n  // // using the callback version here because it's much more customizable\r\n  setEllipsisRef = (ref) => {\r\n    this.ellipsisButtonRef = ref;\r\n  };\r\n\r\n  // focus methods\r\n  focusEllipsisButton = () => {\r\n    if (this.ellipsisButtonRef) {\r\n      //guard\r\n      // callback focus of ref\r\n      this.ellipsisButtonRef.focus();\r\n    }\r\n  };\r\n\r\n  handleSettingsClose = () => {\r\n    if (this.state.modalsOpened.settings) {\r\n      this.setState({\r\n        settingsBackdropClass: \"closed\",\r\n        settingsEllipsisClass: null,\r\n      });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          modalsOpened: { ...this.state.modalsOpened, settings: false },\r\n          settingsBackdropClass: null,\r\n        });\r\n      }, 200);\r\n    }\r\n  };\r\n\r\n  handleSettingsOpen = () => {\r\n    if (!this.state.modalsOpened.settings) {\r\n      this.setState({\r\n        modalsOpened: { settings: true },\r\n        settingsEllipsisClass: \"selected\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handleDeleteAll = () => {\r\n    this.props.deleteAllFinishedTasks();\r\n  };\r\n\r\n  onModalOpen = (event, modalType) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.setState({\r\n      modalsOpened: { any: true, [modalType]: true },\r\n    });\r\n  };\r\n\r\n  renderTasks = () => {\r\n    const tasks = this.props.finishedTasks;\r\n\r\n    if (this.state.showLoader) {\r\n      return (\r\n        <div\r\n          style={{\r\n            color: \"#f8eeee\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            textAlign: \"center\",\r\n            height: \"3rem\",\r\n            fontSize: \"1.3rem\",\r\n          }}\r\n        >\r\n          LOADING...\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (Object.keys(tasks).length >= 1) {\r\n      return tasks.map((task, index) => (\r\n        <div\r\n          key={task.id}\r\n          tabIndex=\"0\"\r\n          className=\"task item list-header task-item-details\"\r\n        >\r\n          <TaskItem\r\n            hideDate={true}\r\n            hideTime={true}\r\n            hideCheckbox={true}\r\n            task={task}\r\n            taskId={task.id}\r\n            finishedIndex={index + \"\"}\r\n            projectId={task.projectId}\r\n            projectName={ellipsifyString(task.projectName, 13)}\r\n            hideEditButton={true}\r\n            closeSettings={() => this.handleSettingsClose()}\r\n          />\r\n        </div>\r\n      ));\r\n    } else {\r\n      return (\r\n        <div\r\n          style={{\r\n            color: \"#f8eeee\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            textAlign: \"center\",\r\n            height: \"3rem\",\r\n            fontSize: \"1.3rem\",\r\n          }}\r\n        >\r\n          There are no tasks found.\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderModal = () => {\r\n    if (this.state.modalsOpened.deleteAll) {\r\n      return (\r\n        <Modal\r\n          backdropClass={this.state.backdropClass || null}\r\n          sectionId=\"delete-all-finished-tasks-content\"\r\n          content={() => (\r\n            <DeleteAll\r\n              itemName=\"Finished Tasks\"\r\n              dataObject={this.props.finishedTasks}\r\n              onClose={() => {\r\n                this.dismissModalHandler();\r\n                this.focusEllipsisButton();\r\n              }}\r\n              deleteFunction={async () => {\r\n                const tasks = this.props.finishedTasks;\r\n                const deleteAllFinishedTasks = async () => {\r\n                  for (let task of tasks) {\r\n                    await this.props.deleteTask(\r\n                      this.props.auth.userId,\r\n                      task.projectId,\r\n                      task.id\r\n                    );\r\n                  }\r\n                };\r\n                await deleteAllFinishedTasks();\r\n                await this.props.deleteAllFinishedTasks();\r\n                this.dismissModalHandler();\r\n                this.focusEllipsisButton();\r\n              }}\r\n            />\r\n          )}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            this.focusEllipsisButton();\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  dismissModalHandler = () => {\r\n    this.setState({ backdropClass: \"closed\" });\r\n    const modalsOpened = _.mapValues(this.state.modalsOpened, () => false);\r\n    setTimeout(() => {\r\n      this.setState({\r\n        modalsOpened,\r\n        backdropClass: null,\r\n      });\r\n    }, 201);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          data-test=\"component-tasks\"\r\n          className=\"tasks-container\"\r\n          onClick={() => {\r\n            this.handleSettingsClose();\r\n          }}\r\n        >\r\n          <div id=\"tasks-list\" className=\"todolist ui segment\">\r\n            <div className=\"ui relaxed divided list\">\r\n              <ListLoader showLoader={this.state.showLoader} />\r\n              <div className=\"task item list-header first\">\r\n                <div className=\"task content\">\r\n                  <div className=\"header header-text task\">FINISHED TASKS</div>\r\n                </div>\r\n                <div style={{ width: \"6rem\", height: \"3.1rem\" }}>\r\n                  <Settings\r\n                    // ref and focus functions\r\n                    setEllipsisRef={this.setEllipsisRef}\r\n                    focusEllipsisButton={this.focusEllipsisButton}\r\n                    // modal functions\r\n                    isModalOpen={this.state.modalsOpened.settings}\r\n                    openModal={this.handleSettingsOpen}\r\n                    closeModal={this.handleSettingsClose}\r\n                    backdropClass={this.state.settingsBackdropClass}\r\n                    ellipsisClass={this.state.settingsEllipsisClass}\r\n                    settingItems={[\r\n                      {\r\n                        text: \"Sort ascending (name)\",\r\n                        method: () => {\r\n                          this.props.sortFinishedTasksByName(\r\n                            this.props.auth.userId,\r\n                            this.props.finishedTasks\r\n                          );\r\n                        },\r\n                      },\r\n\r\n                      {\r\n                        text: \"Sort ascending (date)\",\r\n                        method: () => {\r\n                          this.props.sortFinishedTasksByDate(\r\n                            this.props.auth.userId,\r\n                            this.props.finishedTasks\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort ascending (priority)\",\r\n                        method: () => {\r\n                          this.props.sortFinishedTasksByPriority(\r\n                            this.props.auth.userId,\r\n                            this.props.finishedTasks\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (name)\",\r\n                        method: () => {\r\n                          this.props.sortFinishedTasksByName(\r\n                            this.props.auth.userId,\r\n                            this.props.finishedTasks,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (date)\",\r\n                        method: () => {\r\n                          this.props.sortFinishedTasksByDate(\r\n                            this.props.auth.userId,\r\n                            this.props.finishedTasks,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (priority)\",\r\n                        method: () => {\r\n                          this.props.sortFinishedTasksByPriority(\r\n                            this.props.auth.userId,\r\n                            this.props.finishedTasks,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n\r\n                      {\r\n                        text: \"Delete all tasks\",\r\n                        method: (e) => {\r\n                          this.onModalOpen(e, \"deleteAll\");\r\n                          this.handleSettingsClose();\r\n                        },\r\n                      },\r\n                    ]}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {this.renderTasks()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.renderModal()}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    finishedTasks: state.finishedTasks,\r\n    auth: { ...state.auth.user },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchFinishedTasks,\r\n  deleteTask,\r\n  deleteFinishedTask,\r\n  deleteAllFinishedTasks,\r\n  sortFinishedTasksByName,\r\n  sortFinishedTasksByDate,\r\n  sortFinishedTasksByPriority,\r\n})(FinishedTasks);\r\n","import TrashImg from \"../../images/trash.png\";\r\n\r\nimport _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport TaskItem from \"../TaskItem/TaskItem.js\";\r\nimport ListLoader from \"../ListLoader/ListLoader\";\r\nimport Settings from \"../Settings/Settings\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport DeleteAll from \"../forms/commonModals/DeleteAll\";\r\n\r\nimport {\r\n  fetchDueToday,\r\n  deleteTask,\r\n  deleteAllDueTodayTasks,\r\n  sortDueTodayTasksByName,\r\n  sortDueTodayTasksByDate,\r\n  sortDueTodayTasksByPriority,\r\n} from \"../../actions\";\r\nimport { ellipsifyString } from \"../../helpers/index.js\";\r\n\r\nclass DueToday extends React.Component {\r\n  state = {\r\n    modalsOpened: {\r\n      any: false,\r\n      details: false,\r\n      deleteAll: false,\r\n      settings: false,\r\n    },\r\n    selectedTask: null,\r\n    backdropClass: null,\r\n    settingsBackdropClass: null,\r\n    settingsEllipsisClass: null,\r\n    showLoader: true,\r\n  };\r\n\r\n  // // using the callback version here because it's much more customizable\r\n  setEllipsisRef = (ref) => {\r\n    this.ellipsisButtonRef = ref;\r\n  };\r\n\r\n  // focus methods\r\n  focusEllipsisButton = () => {\r\n    if (this.ellipsisButtonRef) {\r\n      //guard\r\n      // callback focus of ref\r\n      this.ellipsisButtonRef.focus();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    (async () => {\r\n      await this.props.fetchDueToday(this.props.auth.userId);\r\n      this.setState({ showLoader: false });\r\n    })();\r\n  }\r\n\r\n  handleSettingsClose = () => {\r\n    if (this.state.modalsOpened.settings) {\r\n      this.setState({\r\n        settingsBackdropClass: \"closed\",\r\n        settingsEllipsisClass: null,\r\n      });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          modalsOpened: { ...this.state.modalsOpened, settings: false },\r\n          settingsBackdropClass: null,\r\n        });\r\n      }, 200);\r\n    }\r\n  };\r\n\r\n  handleSettingsOpen = () => {\r\n    if (!this.state.modalsOpened.settings) {\r\n      this.setState({\r\n        modalsOpened: { settings: true },\r\n        settingsEllipsisClass: \"selected\",\r\n      });\r\n    }\r\n  };\r\n\r\n  onModalOpen = (e, modalType) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({\r\n      modalsOpened: { any: true, [modalType]: true },\r\n    });\r\n  };\r\n  renderTasks = () => {\r\n    const tasks = this.props.dueToday;\r\n\r\n    if (this.state.showLoader) {\r\n      return (\r\n        <div\r\n          style={{\r\n            color: \"#f8eeee\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            textAlign: \"center\",\r\n            height: \"3rem\",\r\n            fontSize: \"1.3rem\",\r\n          }}\r\n        >\r\n          LOADING...\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (Object.keys(tasks).length >= 1) {\r\n      return tasks.map((task, index) => (\r\n        <div\r\n          key={task.id}\r\n          tabIndex=\"0\"\r\n          className=\"task item list-header task-item-details\"\r\n        >\r\n          <TaskItem\r\n            hideDate={true}\r\n            task={task}\r\n            taskId={task.id}\r\n            dueTodayIndex={index + \"\"}\r\n            projectId={task.projectId}\r\n            projectName={ellipsifyString(task.projectName, 13)}\r\n            closeSettings={() => this.handleSettingsClose()}\r\n          />\r\n        </div>\r\n      ));\r\n    }\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          color: \"#f8eeee\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          textAlign: \"center\",\r\n          height: \"3rem\",\r\n          fontSize: \"1.3rem\",\r\n        }}\r\n      >\r\n        There are no tasks found.\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderModal = () => {\r\n    if (this.state.modalsOpened.deleteAll) {\r\n      return (\r\n        <Modal\r\n          backdropClass={this.state.backdropClass || null}\r\n          sectionId=\"delete-all-due-today-content\"\r\n          content={() => (\r\n            <DeleteAll\r\n              itemName=\"today's tasks\"\r\n              dataObject={this.props.dueToday}\r\n              onClose={() => {\r\n                this.dismissModalHandler();\r\n                this.focusEllipsisButton();\r\n              }}\r\n              deleteFunction={async () => {\r\n                const tasks = this.props.dueToday;\r\n                const deleteAllDueTodayTasks = async () => {\r\n                  for (let task of tasks) {\r\n                    await this.props.deleteTask(\r\n                      this.props.auth.userId,\r\n                      task.projectId,\r\n                      task.id\r\n                    );\r\n                  }\r\n                };\r\n                await deleteAllDueTodayTasks();\r\n                await this.props.deleteAllDueTodayTasks();\r\n                this.dismissModalHandler();\r\n                this.focusEllipsisButton();\r\n              }}\r\n            />\r\n          )}\r\n          onDismiss={() => {\r\n            this.dismissModalHandler();\r\n            this.focusEllipsisButton();\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  dismissModalHandler = () => {\r\n    this.setState({ backdropClass: \"closed\" });\r\n    const modalsOpened = _.mapValues(this.state.modalsOpened, () => false);\r\n    setTimeout(() => {\r\n      this.setState({\r\n        modalsOpened,\r\n        backdropClass: null,\r\n      });\r\n    }, 201);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          data-test=\"component-tasks\"\r\n          className=\"tasks-container\"\r\n          onClick={() => {\r\n            this.handleSettingsClose();\r\n          }}\r\n        >\r\n          <div id=\"tasks-list\" className=\"todolist ui segment\">\r\n            <div className=\"ui relaxed divided list\">\r\n              <ListLoader showLoader={this.state.showLoader} />\r\n              <div className=\"task item list-header first\">\r\n                <div className=\"task content\">\r\n                  <div className=\"header header-text task\">DUE TODAY</div>\r\n                </div>\r\n                <div style={{ width: \"6rem\", height: \"3.1rem\" }}>\r\n                  <Settings\r\n                    // ref and focus function\r\n                    setEllipsisRef={this.setEllipsisRef}\r\n                    focusEllipsisButton={this.focusEllipsisButton}\r\n                    // modal functions\r\n                    isModalOpen={this.state.modalsOpened.settings}\r\n                    openModal={this.handleSettingsOpen}\r\n                    closeModal={this.handleSettingsClose}\r\n                    backdropClass={this.state.settingsBackdropClass}\r\n                    ellipsisClass={this.state.settingsEllipsisClass}\r\n                    settingItems={[\r\n                      {\r\n                        text: \"Sort ascending (name)\",\r\n                        method: () => {\r\n                          this.props.sortDueTodayTasksByName(\r\n                            this.props.auth.userId,\r\n                            this.props.dueToday\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort ascending (time)\",\r\n                        method: () => {\r\n                          this.props.sortDueTodayTasksByDate(\r\n                            this.props.auth.userId,\r\n                            this.props.dueToday\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort ascending (priority)\",\r\n                        method: () => {\r\n                          this.props.sortDueTodayTasksByPriority(\r\n                            this.props.auth.userId,\r\n                            this.props.dueToday\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (name)\",\r\n                        method: () => {\r\n                          this.props.sortDueTodayTasksByName(\r\n                            this.props.auth.userId,\r\n                            this.props.dueToday,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (time)\",\r\n                        method: () => {\r\n                          this.props.sortDueTodayTasksByDate(\r\n                            this.props.auth.userId,\r\n                            this.props.dueToday,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Sort descending (priority)\",\r\n                        method: () => {\r\n                          this.props.sortDueTodayTasksByPriority(\r\n                            this.props.auth.userId,\r\n                            this.props.dueToday,\r\n                            \"descending\"\r\n                          );\r\n                        },\r\n                      },\r\n                      {\r\n                        text: \"Delete all tasks\",\r\n                        method: (e) => {\r\n                          this.onModalOpen(e, \"deleteAll\");\r\n                          this.handleSettingsClose();\r\n                        },\r\n                      },\r\n                    ]}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {this.renderTasks()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.renderModal()}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { dueToday: state.dueToday, auth: { ...state.auth.user } };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchDueToday,\r\n  deleteTask,\r\n  deleteAllDueTodayTasks,\r\n  sortDueTodayTasksByName,\r\n  sortDueTodayTasksByDate,\r\n  sortDueTodayTasksByPriority,\r\n})(DueToday);\r\n","import { ACTION_SHOW_LOADER } from \"./types\";\r\nimport { capitalizeFirstLetter } from \"../helpers\";\r\n\r\nexport const formShowLoader = (\r\n  formName /*name of the form (needs to be consistent)*/,\r\n  show /*show is a Boolean that decides whether to show or hide a loader*/\r\n) => {\r\n  return {\r\n    type: ACTION_SHOW_LOADER,\r\n    payload: { [\"show\" + capitalizeFirstLetter(formName) + \"Loader\"]: show },\r\n  };\r\n};\r\n","// error handling\r\nexport const FETCH_ERRORS = \"FETCH_ERRORS\";\r\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\r\n// loader status options\r\nexport const ACTION_SHOW_LOADER = \"ACTION_SHOW_LOADER\";\r\n","import { FETCH_ERRORS, CLEAR_ERRORS } from \"./types\";\r\n\r\n// RETURN ERRORS\r\nexport const returnErrors = (msg, status, id = null) => {\r\n  console.log(msg);\r\n  return {\r\n    type: FETCH_ERRORS,\r\n    payload: { msg, status, id }\r\n  };\r\n};\r\n\r\n// CLEAR ERRORS\r\nexport const clearErrors = () => {\r\n  return {\r\n    type: CLEAR_ERRORS\r\n  };\r\n};\r\n\r\n// note: make a clear errors version that is selective\r\n","import \"./LoadingSpinner.css\";\r\n\r\nimport React from \"react\";\r\n\r\nconst LoadingSpinner = (props) => {\r\n  return props.showLoader ? (\r\n    <div className=\"lds-ring\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","import warningImg from \"../../images/warning.png\";\r\nimport \"./ErrorNotifications.css\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { clearErrors } from \"../../actions/errorActions\";\r\n\r\nconst ErrorNotification = (props) => {\r\n  const [containerClass, setContainerClass] = useState(null);\r\n  return (\r\n    <div\r\n      className={`error-notification-container ${containerClass}`}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"error-notification-text-span\">\r\n        <img\r\n          className=\"server-side error-image\"\r\n          src={warningImg}\r\n          alt=\"warning sign\"\r\n        ></img>\r\n\r\n        {props.message}\r\n      </div>\r\n      <button\r\n        type=\"button\"\r\n        className=\"server-side error close-button\"\r\n        data-dismiss=\"alert\"\r\n        aria-label=\"Close\"\r\n        onClick={() => {\r\n          setContainerClass(\"hide\");\r\n          setTimeout(props.clearErrors, 300);\r\n        }}\r\n      >\r\n        x\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { clearErrors })(ErrorNotification);\r\n","import \"./ErrorNotifications.css\";\r\n\r\nimport React from \"react\";\r\n\r\nimport ErrorNotification from \"./ErrorNotification\";\r\n\r\nconst ErrorNotifications = (props) => {\r\n  const renderErrors = () => {\r\n    const renderError = (message) => {\r\n      return <ErrorNotification message={message} />;\r\n    };\r\n    if (Array.isArray(props.message)) {\r\n      return props.message.map((message) => renderError(message));\r\n    } else if (!Array.isArray(props.message)) {\r\n      return renderError(props.message);\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return props.message ? (\r\n    <div className=\"error-notifications-container\" role=\"alert\">\r\n      {renderErrors()}\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default ErrorNotifications;\r\n","import \"./LoginForm.css\";\r\nimport warningImg from \"../../../images/warning.png\";\r\n\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Auth } from \"aws-amplify\";\r\nimport { authSignIn } from \"../../../actions\";\r\nimport { formShowLoader } from \"../../../actions/loaderActions\";\r\nimport { returnErrors, clearErrors } from \"../../../actions/errorActions\";\r\nimport { renderError, getErrorClass, validateEmail } from \"../../../helpers\";\r\n\r\nimport { AuthContext } from \"../../AppContext\";\r\n\r\nimport LoadingSpinner from \"../../LoadingSpinner/LoadingSpinner\";\r\nimport GoogleAuth from \"../../GoogleAuth/GoogleAuth\";\r\nimport ErrorNotifications from \"../../ErrorNotifications/ErrorNotifications\";\r\n\r\nclass LoginForm extends React.Component {\r\n  state = {\r\n    showLoginError: false,\r\n  };\r\n  static contextType = AuthContext;\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearErrors();\r\n  }\r\n\r\n  onSubmit = async (formValues) => {\r\n    const { email, password } = formValues;\r\n\r\n    this.props.formShowLoader(\"loginForm\", true);\r\n    try {\r\n      const user = await Auth.signIn(email, password);\r\n      const userId = user.attributes.sub;\r\n      await this.props.authSignIn({ userId, authMethod: \"cognito\" });\r\n      this.context.showLoaderBeforeCheck();\r\n      this.props.clearErrors();\r\n    } catch (e) {\r\n      this.props.returnErrors(e.message, 400, \"LOGIN_ERROR\");\r\n    } finally {\r\n      this.context.fadeLoaderAfterCheck();\r\n      this.props.formShowLoader(\"loginForm\", false);\r\n    }\r\n  };\r\n\r\n  handleEnterKeyOnField = (e) => {\r\n    // This prevents submission bugging or refreshing upon pressing enter\r\n    // in an input field inside a form\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (e.target.type !== \"checkbox\") {\r\n      }\r\n    }\r\n  };\r\n\r\n  renderInput = ({ input, meta, inputProps, labelProps }) => {\r\n    const errorClass = getErrorClass(meta);\r\n    const labelClass = labelProps.class || null;\r\n    const labelId = labelProps.id || null;\r\n    return (\r\n      <React.Fragment>\r\n        <label\r\n          htmlFor={inputProps.id}\r\n          className={`${errorClass} ${labelClass}`}\r\n          id={labelId}\r\n        >\r\n          {labelProps.text}\r\n        </label>\r\n        <input\r\n          {...inputProps}\r\n          {...input}\r\n          className={`${inputProps.className} ${errorClass}`}\r\n          onKeyDown={(e) => {\r\n            this.handleEnterKeyOnField(e);\r\n          }}\r\n          autoFocus={inputProps.autoFocus || false}\r\n        />\r\n        {renderError(meta, \"login\")}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  renderErrorNotifications = () => {\r\n    const errorMessage = this.props.error.msg;\r\n    console.log(errorMessage);\r\n\r\n    if (errorMessage) {\r\n      return <ErrorNotifications message={errorMessage || null} />;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderLoginError = () => {\r\n    if (!this.state.showLoginError) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className={`login disconnected error`}>\r\n        <img className=\"error-image\" src={warningImg} alt=\"warning sign\"></img>\r\n        Unable to connect to server.\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderLoader = () => {\r\n    return <LoadingSpinner showLoader={this.props.showLoader} />;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form id=\"login-form-form\">\r\n        <div id=\"login-form-field-div\">\r\n          {this.renderErrorNotifications()}\r\n          <Field\r\n            name=\"email\"\r\n            component={this.renderInput}\r\n            type=\"text\"\r\n            props={{\r\n              inputProps: {\r\n                name: \"email\",\r\n                placeholder: \"Email Address\",\r\n                className: \"text-field form-name-field\",\r\n                maxLength: \"30\",\r\n                autoComplete: \"off\",\r\n                id: \"login-form-name-field\",\r\n                autoFocus: true,\r\n              },\r\n              labelProps: {\r\n                class: \"login form-label block\",\r\n                text: \"Email Address *\",\r\n                id: \"login-form-name-label\",\r\n              },\r\n            }}\r\n          />\r\n          <Field\r\n            name=\"password\"\r\n            component={this.renderInput}\r\n            type=\"password\"\r\n            props={{\r\n              inputProps: {\r\n                placeholder: \"Password\",\r\n                className: \"text-field form-name-field\",\r\n                type: \"password\",\r\n                maxLength: \"30\",\r\n                autoComplete: \"off\",\r\n                id: \"login-form-password-field\",\r\n              },\r\n              labelProps: {\r\n                class: \"login form-label block\",\r\n                text: \"Password *\",\r\n                id: \"login-form-password-label\",\r\n              },\r\n            }}\r\n          />\r\n          <div id=\"login-submit-div\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"form-submit modal-action-button\"\r\n              id=\"login-form-submit\"\r\n              onClick={this.props.handleSubmit(this.onSubmit)}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Tab\" && !e.shiftKey) {\r\n                }\r\n              }}\r\n            >\r\n              {this.renderLoader()}Log In\r\n            </button>\r\n            {this.renderLoginError()}\r\n          </div>\r\n          <div className=\"login-page-button-container\">\r\n            <GoogleAuth buttonClass=\"login-page\" />\r\n          </div>\r\n          <div\r\n            className=\"login-page-button-container link-text-container\"\r\n            id=\"register-link-container\"\r\n          >\r\n            <Link\r\n              id=\"register-text-link\"\r\n              className=\"small-text-link\"\r\n              to={`/register`}\r\n            >\r\n              Don't have an account? Register here.\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  if (!formValues.email) {\r\n    errors.email = \"Please input an email.\";\r\n  } else if (!validateEmail(formValues.email)) {\r\n    errors.email = \"Invalid email address.\";\r\n  }\r\n  if (!formValues.password) {\r\n    errors.password = \"Please input a password.\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  error: state.error,\r\n  showLoader: state.loader.showLoginFormLoader,\r\n});\r\n\r\nconst loginForm = connect(mapStateToProps, {\r\n  authSignIn,\r\n  returnErrors,\r\n  clearErrors,\r\n  formShowLoader,\r\n})(LoginForm);\r\n\r\nexport default reduxForm({\r\n  form: \"loginForm\",\r\n  validate,\r\n})(loginForm);\r\n","import \"./LoginPage.css\";\r\nimport StarImg from \"../../images/star.png\";\r\n\r\nimport React from \"react\";\r\n\r\nimport LoginForm from \"../forms/login/LoginForm\";\r\n\r\nclass LoginPage extends React.Component {\r\n  state = {\r\n    showLoader: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ showLoader: false });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div data-test=\"component-login-page\" className=\"login-page-container\">\r\n        <div id=\"login-page-title-div\">\r\n          <img\r\n            id=\"login-page-title-image\"\r\n            src={StarImg}\r\n            alt=\"Blue Star Icon\"\r\n          ></img>\r\n          <h1 id=\"login-page-title\">Daily Quest</h1>\r\n        </div>\r\n        <div\r\n          className=\"form-container\"\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }}\r\n        >\r\n          <h2 className=\"login-page-header\">Log In to Daily Quest</h2>\r\n          <LoginForm />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginPage;\r\n","import \"./RegisterForm.css\";\r\n\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Auth } from \"aws-amplify\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { returnErrors, clearErrors } from \"../../../actions/errorActions\";\r\nimport { formShowLoader } from \"../../../actions/loaderActions\";\r\nimport { renderError, getErrorClass, validateEmail } from \"../../../helpers\";\r\nimport ErrorNotifications from \"../../ErrorNotifications/ErrorNotifications\";\r\nimport LoadingSpinner from \"../../LoadingSpinner/LoadingSpinner\";\r\n\r\nimport { AuthContext } from \"../../AppContext\";\r\n\r\nclass RegisterForm extends React.Component {\r\n  state = {\r\n    showRegisterError: false,\r\n    isLoading: false,\r\n  };\r\n  static contextType = AuthContext;\r\n\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.clearErrors();\r\n  }\r\n\r\n  handleEnterKeyOnField = (e) => {\r\n    // This prevents submission bugging or refreshing upon pressing enter\r\n    // in an input field inside a form\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (e.target.type !== \"checkbox\") {\r\n      }\r\n    }\r\n  };\r\n\r\n  renderInput = ({ input, meta, inputProps, labelProps }) => {\r\n    const errorClass = getErrorClass(meta);\r\n    const labelClass = labelProps.class || null;\r\n    const labelId = labelProps.id || null;\r\n    return (\r\n      <React.Fragment>\r\n        <label\r\n          htmlFor={inputProps.id}\r\n          className={`${errorClass} ${labelClass}`}\r\n          id={labelId}\r\n        >\r\n          {labelProps.text}\r\n        </label>\r\n        <input\r\n          {...inputProps}\r\n          {...input}\r\n          autoComplete=\"off\"\r\n          className={`${inputProps.className} ${errorClass}`}\r\n          onKeyDown={(e) => {\r\n            this.handleEnterKeyOnField(e);\r\n          }}\r\n          autoFocus={inputProps.autoFocus || false}\r\n        />\r\n        {renderError(meta, \"register\")}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  renderErrorNotifications = () => {\r\n    const errorMessage = this.props.error.msg;\r\n    console.log(errorMessage);\r\n    if (errorMessage) {\r\n      return <ErrorNotifications message={errorMessage || null} />;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderLoader = () => {\r\n    return <LoadingSpinner showLoader={this.props.showLoader} />;\r\n  };\r\n\r\n  createErrorMsg = (message) => {\r\n    let errorMsg = null;\r\n    // error message that states password should have greater or equal to 6 characters\r\n    if (\r\n      message.includes(\"password\") &&\r\n      message.includes(\"length greater than or equal to 6\")\r\n    ) {\r\n      errorMsg = \"Password must have 6 characters or more.\";\r\n    } else if (\r\n      message.includes(\"Password\") &&\r\n      message.includes(\"uppercase characters\")\r\n    ) {\r\n      errorMsg = \"Password must have an uppercase character.\";\r\n    } else if (\r\n      message.includes(\"Password\") &&\r\n      message.includes(\"numeric characters\")\r\n    ) {\r\n      errorMsg = \"Password must have a numeric character.\";\r\n    } else if (\r\n      message.includes(\"Password\") &&\r\n      message.includes(\"symbol characters\")\r\n    ) {\r\n      errorMsg = \"Password must have a symbol character.\";\r\n    }\r\n    return errorMsg;\r\n  };\r\n\r\n  onSubmit = async (formValues) => {\r\n    const { email, password } = formValues;\r\n    this.props.formShowLoader(\"registerForm\", true);\r\n\r\n    try {\r\n      const newUser = await Auth.signUp({\r\n        username: email,\r\n        password: password,\r\n        attributes: {\r\n          email: email,\r\n        },\r\n      });\r\n      const userId = newUser.userSub;\r\n      console.log(newUser);\r\n      await this.props.setNewUser({ email, password, userId });\r\n      this.props.setShowConfirm(true);\r\n      this.props.clearErrors();\r\n    } catch (e) {\r\n      console.log(e);\r\n      console.log(e.message);\r\n      console.log(this.createErrorMsg(e.message));\r\n      this.props.returnErrors(\r\n        this.createErrorMsg(e.message) || e.message,\r\n        400,\r\n        \"REGISTER_ERROR\"\r\n      );\r\n    } finally {\r\n      this.props.formShowLoader(\"registerForm\", false);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h2 className=\"register-page-header\">Register for an Account</h2>\r\n        <form id=\"register-form-form\">\r\n          <div id=\"register-form-field-div\">\r\n            {this.renderErrorNotifications()}\r\n            <Field\r\n              name=\"email\"\r\n              component={this.renderInput}\r\n              type=\"text\"\r\n              props={{\r\n                inputProps: {\r\n                  placeholder: \"Email Address\",\r\n                  className: \"text-field form-name-field\",\r\n                  maxLength: \"30\",\r\n                  autoComplete: \"off\",\r\n                  id: \"register-form-name-field\",\r\n                  autoFocus: true,\r\n                },\r\n                labelProps: {\r\n                  class: \"register form-label block\",\r\n                  text: \"Email Address *\",\r\n                  id: \"register-form-name-label\",\r\n                },\r\n              }}\r\n            />\r\n            <Field\r\n              name=\"password\"\r\n              component={this.renderInput}\r\n              type=\"password\"\r\n              props={{\r\n                inputProps: {\r\n                  placeholder: \"Password\",\r\n                  className: \"text-field form-name-field\",\r\n                  maxLength: \"30\",\r\n                  autoComplete: \"off\",\r\n                  id: \"register-form-password-field\",\r\n                  type: \"password\",\r\n                },\r\n                labelProps: {\r\n                  class: \"register form-label block\",\r\n                  text: \"Password *\",\r\n                  id: \"register-form-password-label\",\r\n                },\r\n              }}\r\n            />\r\n            <Field\r\n              name=\"password2\"\r\n              component={this.renderInput}\r\n              type=\"password\"\r\n              props={{\r\n                inputProps: {\r\n                  placeholder: \"Confirm Password\",\r\n                  className: \"text-field form-name-field\",\r\n                  maxLength: \"30\",\r\n                  autoComplete: \"off\",\r\n                  id: \"register-form-confirm-password-field\",\r\n                  type: \"password\",\r\n                },\r\n                labelProps: {\r\n                  class: \"register form-label block\",\r\n                  text: \"Confirm Password *\",\r\n                  id: \"register-form-confirm-password-label\",\r\n                },\r\n              }}\r\n            />\r\n            <div id=\"register-submit-div\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"form-submit modal-action-button\"\r\n                id=\"register-form-submit\"\r\n                onClick={this.props.handleSubmit(this.onSubmit)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Tab\" && !e.shiftKey) {\r\n                  }\r\n                }}\r\n              >\r\n                {this.renderLoader()} Register\r\n              </button>\r\n            </div>\r\n            <div\r\n              className=\"register-page-button-container link-text-container\"\r\n              id=\"login-link-container\"\r\n            >\r\n              <Link\r\n                id=\"login-text-link\"\r\n                className=\"small-text-link\"\r\n                to={`/login-page`}\r\n              >\r\n                Click here to login instead.\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  if (!formValues.email) {\r\n    errors.email = \"Please input an email.\";\r\n  } else if (!validateEmail(formValues.email)) {\r\n    errors.email = \"Invalid email address.\";\r\n  }\r\n  if (!formValues.password) {\r\n    errors.password = \"Please input a password.\";\r\n  }\r\n  // After null checking, check length\r\n  else if (formValues.password.length < 6) {\r\n    errors.password = \"The password must be at least 6 characters.\";\r\n  }\r\n  // Check for capital letters\r\n  else if (formValues.password.search(/[A-Z]/) < 0) {\r\n    errors.password = \"The password must contain an uppercase letter.\";\r\n  }\r\n  // Check for numbers\r\n  else if (formValues.password.search(/[0-9]/) < 0) {\r\n    errors.password = \"The password must contain a number.\";\r\n  }\r\n  // Check for special characters\r\n  else if (\r\n    !/[\\s~`!@#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?()\\._]/g.test(formValues.password)\r\n  ) {\r\n    errors.password = \"The password must contain a special character.\";\r\n  }\r\n\r\n  if (!formValues.password2) {\r\n    errors.password2 = \"Please input a matching password.\";\r\n  } else if (formValues.password !== formValues.password2) {\r\n    errors.password2 = \"Passwords do not match.\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  error: state.error,\r\n  showLoader: state.loader.showRegisterFormLoader,\r\n});\r\n\r\nconst registerForm = connect(mapStateToProps, {\r\n  returnErrors,\r\n  clearErrors,\r\n  formShowLoader,\r\n})(RegisterForm);\r\n\r\nexport default reduxForm({\r\n  form: \"registerForm\",\r\n  validate,\r\n})(registerForm);\r\n","import React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Auth } from \"aws-amplify\";\r\nimport { returnErrors, clearErrors } from \"../../../actions/errorActions\";\r\nimport { formShowLoader } from \"../../../actions/loaderActions\";\r\nimport { renderError, getErrorClass } from \"../../../helpers\";\r\nimport { authSignIn } from \"../../../actions\";\r\nimport ErrorNotifications from \"../../ErrorNotifications/ErrorNotifications\";\r\n\r\nimport { AuthContext } from \"../../AppContext\";\r\nimport LoadingSpinner from \"../../LoadingSpinner/LoadingSpinner\";\r\n\r\nclass ConfirmationForm extends React.Component {\r\n  state = {\r\n    isLoading: false,\r\n  };\r\n  static contextType = AuthContext;\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearErrors();\r\n  }\r\n\r\n  handleEnterKeyOnField = (e) => {\r\n    // This prevents submission bugging or refreshing upon pressing enter\r\n    // in an input field inside a form\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (e.target.type !== \"checkbox\") {\r\n      }\r\n    }\r\n  };\r\n\r\n  renderInput = ({ input, meta, inputProps, labelProps }) => {\r\n    const errorClass = getErrorClass(meta);\r\n    const labelClass = labelProps.class || null;\r\n    const labelId = labelProps.id || null;\r\n    return (\r\n      <React.Fragment>\r\n        <label\r\n          htmlFor={inputProps.id}\r\n          className={`${errorClass} ${labelClass}`}\r\n          id={labelId}\r\n        >\r\n          {labelProps.text}\r\n        </label>\r\n        <input\r\n          {...inputProps}\r\n          {...input}\r\n          className={`${inputProps.className} ${errorClass}`}\r\n          onKeyDown={(e) => {\r\n            this.handleEnterKeyOnField(e);\r\n          }}\r\n          autoFocus={inputProps.autoFocus || false}\r\n        />\r\n        {renderError(meta, \"register\")}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  renderErrorNotifications = () => {\r\n    const errorMessage = this.props.error.msg;\r\n    console.log(errorMessage);\r\n    if (errorMessage) {\r\n      return <ErrorNotifications message={errorMessage || null} />;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderLoader = () => {\r\n    return <LoadingSpinner showLoader={this.props.showLoader} />;\r\n  };\r\n\r\n  onSubmit = async (formValues) => {\r\n    this.props.formShowLoader(\"confirmationForm\", true);\r\n\r\n    try {\r\n      const { email, password, userId } = this.props.newUser;\r\n      console.log(this.props.newUser);\r\n      console.log(email);\r\n      await Auth.confirmSignUp(email, formValues.confirmation_code);\r\n      await Auth.signIn(email, password);\r\n      this.context.showLoaderBeforeCheck();\r\n      // get the user ID for cognito user\r\n      console.log(userId);\r\n      await this.props.authSignIn({ userId, authMethod: \"cognito\" });\r\n      this.context.userHasAuthenticated(true);\r\n      this.props.clearErrors();\r\n    } catch (e) {\r\n      console.log(e);\r\n      console.log(e.message);\r\n      this.props.returnErrors(e.message, 400, \"CONFIRMATION_ERROR\");\r\n    } finally {\r\n      this.context.fadeLoaderAfterCheck();\r\n      this.props.formShowLoader(\"confirmationForm\", false);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h2 className=\"register-page-header\">Enter Email Confirmation Code</h2>\r\n        <form id=\"register-form-form\">\r\n          <div id=\"register-form-field-div\">\r\n            {this.renderErrorNotifications()}\r\n            <Field\r\n              name=\"confirmation_code\"\r\n              component={this.renderInput}\r\n              type=\"tel\"\r\n              props={{\r\n                inputProps: {\r\n                  placeholder: \"Confirmation Code\",\r\n                  className: \"text-field form-name-field\",\r\n                  maxLength: \"30\",\r\n                  autoComplete: \"off\",\r\n                  id: \"register-form-confirmation-code-field\",\r\n                  autoFocus: true,\r\n                },\r\n                labelProps: {\r\n                  class: \"register form-label block\",\r\n                  text: \"Email Confirmation Code *\",\r\n                  id: \"register-form-confirmation-code-label\",\r\n                },\r\n              }}\r\n            />\r\n\r\n            <div id=\"register-submit-div\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"form-submit modal-action-button\"\r\n                id=\"register-form-submit\"\r\n                onClick={this.props.handleSubmit(this.onSubmit)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Tab\" && !e.shiftKey) {\r\n                  }\r\n                }}\r\n              >\r\n                {this.renderLoader()} Verify\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n\r\n  if (!formValues.confirmation_code) {\r\n    errors.confirmation_code = \"Please input the confirmation code.\";\r\n  }\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  error: state.error,\r\n  showLoader: state.loader.showConfirmationFormLoader,\r\n});\r\n\r\nconst confirmationForm = connect(mapStateToProps, {\r\n  authSignIn,\r\n  returnErrors,\r\n  clearErrors,\r\n  formShowLoader,\r\n})(ConfirmationForm);\r\n\r\nexport default reduxForm({\r\n  form: \"confirmationForm\",\r\n  validate,\r\n})(confirmationForm);\r\n","import \"./Register.css\";\r\nimport StarImg from \"../../images/star.png\";\r\n\r\nimport React from \"react\";\r\n\r\nimport RegisterForm from \"../forms/register/RegisterForm\";\r\nimport ConfirmationForm from \"../forms/register/ConfirmationForm\";\r\nimport history from \"../../history\";\r\n\r\nclass Register extends React.Component {\r\n  state = {\r\n    newUser: null,\r\n    showLoader: true,\r\n    showConfirm: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ showLoader: false });\r\n  }\r\n\r\n  setNewUser = (newUser) => {\r\n    this.setState({ newUser });\r\n  };\r\n\r\n  setShowConfirm = (bool) => {\r\n    this.setState({ showConfirm: bool });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        data-test=\"component-register-page\"\r\n        className=\"register-page-container\"\r\n      >\r\n        <div id=\"register-page-title-div\">\r\n          <img\r\n            id=\"register-page-title-image\"\r\n            src={StarImg}\r\n            alt=\"Blue Star Icon\"\r\n          ></img>\r\n          <h1 id=\"register-page-title\">Daily Quest</h1>\r\n        </div>\r\n        <div\r\n          className=\"form-container\"\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }}\r\n        >\r\n          {this.state.showConfirm === false ? (\r\n            <RegisterForm\r\n              setNewUser={this.setNewUser}\r\n              setShowConfirm={this.setShowConfirm}\r\n            />\r\n          ) : (\r\n            <ConfirmationForm\r\n              newUser={this.state.newUser}\r\n              setShowConfirm={this.setShowConfirm}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import \"./App.css\";\r\n\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Router, Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { Auth } from \"aws-amplify\";\r\nimport history from \"../history\";\r\nimport { authSignIn } from \"../actions\";\r\n// components\r\nimport AuthenticatedRoute from \"./AuthenticatedRoute\";\r\nimport UnauthenticatedRoute from \"./UnauthenticatedRoute\";\r\nimport AppLoader from \"./AppLoader/AppLoader\";\r\nimport ErrorPage from \"./ErrorPage/ErrorPage\";\r\nimport Header from \"./Header/Header\";\r\nimport Home from \"./Home/Home\";\r\nimport Projects from \"./Projects/Projects\";\r\nimport Tasks from \"./Tasks/Tasks\";\r\nimport FinishedTasks from \"./FinishedTasks/FinishedTasks\";\r\nimport DueToday from \"./DueToday/DueToday\";\r\nimport LoginPage from \"./LoginPage/LoginPage\";\r\nimport Register from \"./Register/Register\";\r\nimport GoogleAuth from \"./GoogleAuth/GoogleAuth\";\r\n\r\nimport { ElementsContext, NavContext, AuthContext } from \"./AppContext\";\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    // modal\r\n    modalCloseButtonRef: null,\r\n    modalDeleteAllButtonRef: null,\r\n    modalProjectsSubmitButtonRef: null,\r\n    modalProjectsDeleteButtonRef: null,\r\n    modalTasksSubmitButtonRef: null,\r\n    modalTasksDeleteButtonRef: null,\r\n    modalDetailsEditButtonRef: null,\r\n    modalDetailsDeleteButtonRef: null,\r\n    // non-modal\r\n    firstSettingsItem: null,\r\n    navMenuCloseButtonRef: null,\r\n    lastNavMenuItemRef: null,\r\n    // AWS amplify/auth + GoogleAuth\r\n    isAuthenticated: false,\r\n    authSignInChecked: false,\r\n    // session authentication (storage)\r\n    isAuthenticating: true,\r\n    // loader\r\n    showLoader: true,\r\n    loaderFadeClass: null,\r\n    // rerender Boolean\r\n    rerenderBoolean: false,\r\n  };\r\n  componentDidMount() {\r\n    this.onLoadAuthSetup();\r\n  }\r\n\r\n  // functions used for retrieving context values\r\n  getElementsContextValue = () => {\r\n    return {\r\n      // main body content\r\n      //\r\n      modalCloseButtonRef: this.state.modalCloseButtonRef,\r\n      setModalCloseButtonRef: this.setModalCloseButtonRef,\r\n      //PROJECTS\r\n      modalProjectsSubmitButtonRef: this.state.modalProjectsSubmitButtonRef,\r\n      setModalProjectsSubmitButtonRef: this.setModalProjectsSubmitButtonRef,\r\n      //\r\n      modalProjectsDeleteButtonRef: this.state.modalProjectsDeleteButtonRef,\r\n      setModalProjectsDeleteButtonRef: this.setModalProjectsDeleteButtonRef,\r\n      //TASKS\r\n      modalTasksSubmitButtonRef: this.state.modalTasksSubmitButtonRef,\r\n      setModalTasksSubmitButtonRef: this.setModalTasksSubmitButtonRef,\r\n      //\r\n      modalTasksDeleteButtonRef: this.state.modalTasksDeleteButtonRef,\r\n      setModalTasksDeleteButtonRef: this.setModalTasksDeleteButtonRef,\r\n      //\r\n      modalDetailsEditButtonRef: this.state.modalDetailsEditButtonRef,\r\n      setModalDetailsEditButtonRef: this.setModalDetailsEditButtonRef,\r\n      //\r\n      modalDetailsDeleteButtonRef: this.state.modalDetailsDeleteButtonRef,\r\n      setModalDetailsDeleteButtonRef: this.setModalDetailsDeleteButtonRef,\r\n      //\r\n      modalDeleteAllButtonRef: this.state.modalDeleteAllButtonRef,\r\n      setModalDeleteAllButtonRef: this.setModalDeleteAllButtonRef,\r\n      // SETTINGS\r\n      firstSettingsItem: this.state.firstSettingsItem,\r\n      setFirstSettingsItem: this.setFirstSettingsItem,\r\n    };\r\n  };\r\n\r\n  getNavContextValue = () => {\r\n    return {\r\n      // NAV MENU\r\n      navMenuCloseButtonRef: this.state.navMenuCloseButtonRef,\r\n      setNavMenuCloseButtonRef: this.setNavMenuCloseButtonRef,\r\n      //\r\n      lastNavMenuItemRef: this.state.lastNavMenuItemRef,\r\n      setLastNavMenuItemRef: this.setLastNavMenuItemRef,\r\n    };\r\n  };\r\n\r\n  getAuthContextValue = () => {\r\n    return {\r\n      signInChecked: this.state.authSignInChecked,\r\n      setSignInChecked: (isChecked) => {\r\n        this.setAuthSignInChecked(isChecked);\r\n      },\r\n    };\r\n  };\r\n\r\n  getAuthContextValue = () => {\r\n    return {\r\n      isAuthenticated: this.state.isAuthenticated,\r\n      userHasAuthenticated: (isAuthenticated) => {\r\n        this.setState({ isAuthenticated: isAuthenticated });\r\n      },\r\n      authsignInChecked: this.state.authSignInChecked,\r\n      setAuthSignInChecked: (isChecked) => {\r\n        this.setAuthSignInChecked(isChecked);\r\n      },\r\n      fadeLoaderAfterCheck: this.fadeLoaderAfterCheck,\r\n      showLoaderBeforeCheck: this.showLoaderBeforeCheck,\r\n    };\r\n  };\r\n\r\n  onLoadAuthSetup = async () => {\r\n    try {\r\n      console.log(\"authentication setup...\");\r\n\r\n      const { attributes } = await Auth.currentAuthenticatedUser();\r\n      const userId = attributes.sub;\r\n      console.log(attributes);\r\n      console.log(attributes.sub);\r\n\r\n      this.props.authSignIn({ userId, authMethod: \"cognito\" });\r\n    } catch (e) {\r\n      if (e !== \"No current user\") {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    this.setState({ isAuthenticating: false });\r\n  };\r\n\r\n  // used to show the loader again\r\n  showLoaderBeforeCheck = () => {\r\n    this.setState({ loaderFadeClass: null, showLoader: true });\r\n  };\r\n\r\n  // this is used to hide the loader\r\n  fadeLoaderAfterCheck = () => {\r\n    setTimeout(() => {\r\n      console.log(\"hello\");\r\n\r\n      if (this.state.authSignInChecked) {\r\n        this.hideLoader(300);\r\n      }\r\n    }, 500);\r\n  };\r\n\r\n  hideLoader = (delay) => {\r\n    this.setState({ loaderFadeClass: \"no-display\" });\r\n    if (delay) {\r\n      setTimeout(() => {\r\n        this.setState({ showLoader: false });\r\n      }, delay);\r\n    } else {\r\n      this.setState({ showLoader: false });\r\n    }\r\n  };\r\n\r\n  //Auth functions\r\n  setAuthSignInChecked = (isChecked) => {\r\n    this.setState({ authSignInChecked: isChecked });\r\n  };\r\n\r\n  renderGlobalGoogleAuth = () => {\r\n    if (!(window.location.pathname === \"login-page\")) {\r\n      // render the GoogleAuth component outside login page\r\n      // to initialize Google log in status\r\n      return (\r\n        <div style={{ display: \"none\" }}>\r\n          {\" \"}\r\n          <GoogleAuth />\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // callback ref functions\r\n  setModalCloseButtonRef = (ref) => {\r\n    this.setState({ modalCloseButtonRef: ref });\r\n  };\r\n\r\n  setModalDeleteAllButtonRef = (ref) => {\r\n    this.setState({ modalDeleteAllButtonRef: ref });\r\n  };\r\n\r\n  // PROJECTS\r\n  setModalProjectsSubmitButtonRef = (ref) => {\r\n    this.setState({ modalProjectsSubmitButtonRef: ref });\r\n    console.log(this.state.modalProjectsSubmitButtonRef);\r\n  };\r\n\r\n  setModalProjectsDeleteButtonRef = (ref) => {\r\n    this.setState({ modalProjectsDeleteButtonRef: ref });\r\n  };\r\n\r\n  // TASKS\r\n  setModalTasksSubmitButtonRef = (ref) => {\r\n    this.setState({ modalTasksSubmitButtonRef: ref });\r\n  };\r\n\r\n  setModalTasksDeleteButtonRef = (ref) => {\r\n    this.setState({ modalTasksDeleteButtonRef: ref });\r\n  };\r\n  // //task details\r\n  setModalDetailsEditButtonRef = (ref) => {\r\n    this.setState({ modalDetailsEditButtonRef: ref });\r\n  };\r\n\r\n  setModalDetailsDeleteButtonRef = (ref) => {\r\n    this.setState({ modalDetailsDeleteButtonRef: ref });\r\n  };\r\n\r\n  // settings\r\n  setFirstSettingsItem = (ref) => {\r\n    this.setState({ firstSettingsItem: ref });\r\n  };\r\n\r\n  // navigation menu\r\n  setNavMenuCloseButtonRef = (ref) => {\r\n    this.setState({ navMenuCloseButtonRef: ref });\r\n  };\r\n\r\n  setLastNavMenuItemRef = (ref) => {\r\n    this.setState({ lastNavMenuItemRef: ref });\r\n  };\r\n\r\n  render() {\r\n    // context value objects\r\n    const elementsContextValue = this.getElementsContextValue();\r\n    const navContextValue = this.getNavContextValue();\r\n    const authContextValue = this.getAuthContextValue();\r\n\r\n    // AppLoader prop values\r\n    const appLoaderProps = {\r\n      show: this.state.showLoader,\r\n      fadeClass: this.state.loaderFadeClass,\r\n    };\r\n\r\n    return (\r\n      <div data-test=\"component-app\" className=\"ui container\">\r\n        <Router history={history}>\r\n          <Route path=\"/\" exact>\r\n            {this.props.isSignedIn ? (\r\n              <Redirect to=\"/home\" />\r\n            ) : (\r\n              <Redirect to=\"/login-page\" />\r\n            )}\r\n          </Route>\r\n\r\n          <AuthContext.Provider value={authContextValue}>\r\n            <AppLoader loader={appLoaderProps} />\r\n            {this.renderGlobalGoogleAuth()}\r\n            <div>\r\n              {/*only show the navigation bar if the user is signed in*/}\r\n              {this.props.isSignedIn ? (\r\n                <NavContext.Provider value={navContextValue}>\r\n                  <Header />\r\n                </NavContext.Provider>\r\n              ) : null}\r\n\r\n              <ElementsContext.Provider value={elementsContextValue}>\r\n                <Switch>\r\n                  <UnauthenticatedRoute path=\"/login-page\" exact>\r\n                    <LoginPage />\r\n                  </UnauthenticatedRoute>\r\n                  <UnauthenticatedRoute path=\"/register\" exact>\r\n                    <Register />\r\n                  </UnauthenticatedRoute>\r\n                  <AuthenticatedRoute exact path=\"/home\">\r\n                    <Home />\r\n                  </AuthenticatedRoute>\r\n                  <AuthenticatedRoute exact path=\"/projects\">\r\n                    <Projects />\r\n                  </AuthenticatedRoute>\r\n                  <AuthenticatedRoute exact path=\"/projects/:id\">\r\n                    <Tasks />\r\n                  </AuthenticatedRoute>\r\n                  <AuthenticatedRoute exact path=\"/due-today\">\r\n                    <DueToday />\r\n                  </AuthenticatedRoute>\r\n                  <AuthenticatedRoute exact path=\"/finished-tasks\">\r\n                    <FinishedTasks />\r\n                  </AuthenticatedRoute>\r\n                  <Route>\r\n                    <ErrorPage errorType=\"404\" />\r\n                  </Route>\r\n                </Switch>\r\n              </ElementsContext.Provider>\r\n            </div>\r\n          </AuthContext.Provider>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isSignedIn: state.auth.isSignedIn };\r\n};\r\n\r\nexport default connect(mapStateToProps, { authSignIn })(App);\r\n","import { actionTypes } from \"../actions\";\r\n\r\nconst INITIAL_STATE = {\r\n  isSignedIn: null,\r\n  authMethod: null,\r\n  userId: null,\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.AUTH_SIGN_IN:\r\n      return {\r\n        ...state,\r\n        isSignedIn: true,\r\n        authMethod: action.payload.authMethod,\r\n        user: { userId: action.payload.userId },\r\n      };\r\n    case actionTypes.AUTH_SIGN_OUT:\r\n      return {\r\n        ...state,\r\n        isSignedIn: false,\r\n        authMethod: null,\r\n        user: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_ERRORS, CLEAR_ERRORS } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  msg: null,\r\n  status: null,\r\n  id: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_ERRORS:\r\n      return {\r\n        msg: action.payload.msg,\r\n        status: action.payload.status,\r\n        id: action.payload.id,\r\n      };\r\n    case CLEAR_ERRORS:\r\n      return {\r\n        msg: null,\r\n        status: null,\r\n        id: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { ACTION_SHOW_LOADER } from \"../actions/types\";\r\n\r\nconst initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ACTION_SHOW_LOADER:\r\n      return { ...state, ...action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport projectsReducer from \"./projectsReducer\";\r\nimport selectedProjectReducer from \"./selectedProjectReducer\";\r\nimport finishedTasksReducer from \"./finishedTasksReducer\";\r\nimport dueTodayReducer from \"./dueTodayReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nimport loaderReducer from \"./loaderReducer.js\";\r\n\r\nexport default combineReducers({\r\n  projects: projectsReducer,\r\n  selectedProject: selectedProjectReducer,\r\n  finishedTasks: finishedTasksReducer,\r\n  dueToday: dueTodayReducer,\r\n  form: formReducer,\r\n  auth: authReducer,\r\n  error: errorReducer,\r\n  loader: loaderReducer,\r\n});\r\n","import _ from \"lodash\";\r\nimport { actionTypes } from \"../actions\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FETCH_PROJECTS:\r\n      return [...action.payload];\r\n    case actionTypes.CREATE_PROJECT:\r\n      return [].concat(state, action.payload);\r\n    case actionTypes.EDIT_PROJECT:\r\n      return state.map(item => {\r\n        if (item.id === action.payload.id) {\r\n          item.name = action.payload.name;\r\n        }\r\n        return item;\r\n      });\r\n    case actionTypes.DELETE_PROJECT:\r\n      return state.filter(item => item.id !== action.payload);\r\n    case actionTypes.DELETE_ALL_PROJECTS:\r\n      return [];\r\n    case actionTypes.SORT_PROJECTS_BY_NAME:\r\n      return [...action.payload];\r\n    case actionTypes.SORT_PROJECTS_BY_TASKS:\r\n      return [...action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import _ from \"lodash\";\r\nimport { actionTypes } from \"../actions\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FETCH_PROJECT:\r\n      return { ...action.payload };\r\n    case actionTypes.CREATE_TASK:\r\n      return {\r\n        ...state,\r\n        tasks: [].concat(state.tasks, action.payload),\r\n      };\r\n    case actionTypes.EDIT_TASK:\r\n      return {\r\n        ...state,\r\n        tasks: state.tasks.map((item) => {\r\n          if (item.id === action.payload.id) {\r\n            item = action.payload;\r\n          }\r\n          return item;\r\n        }),\r\n      };\r\n    case actionTypes.TOGGLE_TASK_CHECK:\r\n      // preventing errors in due today\r\n      if (!state.tasks) return state;\r\n\r\n      return {\r\n        ...state,\r\n        tasks: state.tasks.map((item) => {\r\n          if (item.id === action.payload.id) {\r\n            item.finished = action.payload.finished;\r\n          }\r\n          return item;\r\n        }),\r\n      };\r\n    case actionTypes.DELETE_TASK:\r\n      return {\r\n        ...state,\r\n        tasks: state.tasks.filter((item) => item.id !== action.payload),\r\n      };\r\n    case actionTypes.DELETE_ALL_TASKS:\r\n      return { ...state, tasks: [] };\r\n    case actionTypes.SORT_TASKS_BY_NAME:\r\n      return { ...state, tasks: action.payload };\r\n    case actionTypes.SORT_TASKS_BY_DATE:\r\n      return { ...state, tasks: action.payload };\r\n    case actionTypes.SORT_TASKS_BY_PRIORITY:\r\n      return { ...state, tasks: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import _ from \"lodash\";\r\nimport { actionTypes } from \"../actions\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FETCH_FINISHED_TASKS:\r\n      return [...action.payload];\r\n    case actionTypes.DELETE_FINISHED_TASK:\r\n      return state.filter((e, index) => index !== Number(action.payload));\r\n    case actionTypes.DELETE_ALL_FINISHED_TASKS:\r\n      return [];\r\n    case actionTypes.SORT_FINISHED_TASKS_BY_NAME:\r\n      return [...action.payload];\r\n    case actionTypes.SORT_FINISHED_TASKS_BY_DATE:\r\n      return [...action.payload];\r\n    case actionTypes.SORT_FINISHED_TASKS_BY_PRIORITY:\r\n      return [...action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import _ from \"lodash\";\r\nimport { actionTypes } from \"../actions\";\r\nimport { replaceAt } from \"../helpers\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FETCH_DUE_TODAY:\r\n      return [...action.payload];\r\n    case actionTypes.DELETE_DUE_TODAY_TASK:\r\n      return state.filter((item, index) => index !== Number(action.payload));\r\n    case actionTypes.EDIT_DUE_TODAY_TASK:\r\n      return replaceAt(state, action.payload.taskIndex, action.payload);\r\n    case actionTypes.TOGGLE_DUE_TODAY_TASK_CHECK:\r\n      return state.map((item, index) => {\r\n        if (index === Number(action.payload.taskIndex)) {\r\n          item.finished = action.payload.checkValue;\r\n          return item;\r\n        }\r\n        return item;\r\n      });\r\n    case actionTypes.DELETE_ALL_DUE_TODAY_TASKS:\r\n      return [];\r\n    case actionTypes.SORT_DUE_TODAY_TASKS_BY_NAME:\r\n      return [...action.payload];\r\n    case actionTypes.SORT_DUE_TODAY_TASKS_BY_DATE:\r\n      return [...action.payload];\r\n    case actionTypes.SORT_DUE_TODAY_TASKS_BY_PRIORITY:\r\n      return [...action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import \"./shared.css\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\n\r\nimport { Amplify } from \"aws-amplify\";\r\nimport config from \"./config\";\r\n\r\nimport App from \"./components/App\";\r\nimport reducers from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nAmplify.configure({\r\n  Auth: {\r\n    mandatorySignIn: true,\r\n    region: config.cognito.REGION,\r\n    userPoolId: config.cognito.USER_POOL_ID,\r\n    identityPoolId: config.cognito.IDENTITY_POOL_ID,\r\n    userPoolWebClientId: config.cognito.APP_CLIENT_ID,\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxQAJDQk8ydGAAACt0lEQVRo3sWZO0wUQRjHfzdcdcdLOaIxnHYiQXnEWmMhDQRNTEyMGhKNnaKdMUQTEhqNxkQbJUZsxcKeRyy0RTlQY6D0wev2CAlIx43FsnDgcbszN7vzfcXdFDO//3zz7TxjqFo9p2nmGI3so5ZKJH9ZYZlZfvCdjzjKLQa2dp4wRR5ZwvNkeEyraXSSO0yXBO/2KW6TNAOv4T5ZJbjnS/RRXS6+m19acM/n6SGmCz/Mh7Lgno+T1ut7zgheInHoUoPHGPDJdlXP0x8cX8GgUbjnb4gHw78LBS+RDFPhH/xXoeElkkE/AQOh4iWydC50GU694ul4fi98Gid0vESyzJHio29m2gniY8UEXI0ML5Fc2o2vYV6xiYkd9ScUa/+hyq0oNhvo5WDwmcqAHeJmYTHJknIQy4uAJEvldgRuUB9p/wFSXNsWcD1y/BZVAO20WBHQRosr4IoVPC5ZAB3WBHSAoI7j1gS0khKc2ZoLojfBKWGx/wDNgkarAhoFR20LSFkVkBLeqmTJqoS7JNgUYNkEa1b5q4JVuwLiOMX3qL7WtGNL0qQpwIkzy0mtqgnNejttRjBjoJmyBHy1KuBbjDqWrK2HeQ4IchZjkMGJA6Na93oO7wtKF7TWlFH3p03rcFXuuUAivU1phmkrAzDJtHcueG1FwND234SFo9kCCfAisM6zyPv/lPXCYjVzkUbg9//7kMtaeazrF4sFZTwy/EjxUWnQvJZX9dzeG4DOSK7pzpXKzf7QBTzw+zyeh4p/6f99VjAcGv6t/2W1K+FFKPihYNf1Xi6YfrDwHfvddpYFY/gsnap4gDRjRvAjNOjgXevmZ1nwOXr04a5VcY9FLfgid00dfRP0klGCT3LLXe9NWguP+MJGSfAGn3nIieCNqj+r1m093++nlkpgjRVym8/3n8ipNfcPFh7/XdtDeHkAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMjBUMDA6MzY6NTIrMDA6MDD5KD/dAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTIwVDAwOjM2OjUyKzAwOjAwiHWHYQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjChIDBCXBiusjAAABrElEQVRo3u2ZPUvDQBiAH0Pt5FKw3ZzroigoiD/BtbpLxfobdNTJoXZ2UfAP6N5FrSLSTYv4FypCFT9A0Mah0ibmu733stx7S3IJ9zzv5b1LIGPIh0WJNYp80OSQBw1EV0xyjt1v3+zoxee5c+B77SBdvEaFILwmhTC8BoUovLhCNRJvY7MvJ5DlLJZCKW2FG9XYiYQKn2rxBVrsJlJoq8bb2IkUjtTjkyg8MaUOfx+4wMY59cV3WJTCx1EQxkcpaMCHKWjCByloxPspKMW3IvHeRVnUmb3gWy8JXkAh7uQ723Z62fcqf8HgVUQ+bXz0l67BG7zBG7zBG7zBjxjZIfDPzKvCA5T5SSv7YRQE8EkUlOJXXWcVunqfvcULNVfPRsQsKJ78GWzsBArKn33lb+B4CgKld9wfPFpBpPIfHYBwBRF87l/NBysIrfsVzzT7KwjhYc+n0LwKYnio+9Z61XVPmTkpvMVrwGqvjT54nJgN2e+0/F7bCt1yxRUslgKvvVOnQ05WIMOyp++NW665osGXdP6QodA/btPgkgtadOXBg1inyQmbTOuEDuIXqka4ut2yvtcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTAtMThUMDM6MDQ6MzcrMDA6MDC6yYecAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEwLTE4VDAzOjA0OjM3KzAwOjAwy5Q/IAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\""],"sourceRoot":""}